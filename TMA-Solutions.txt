TMA Solutions note: 
============================================================================================================================================
										
AxS's Customers : Bell, AT&T, BGC, Verision  

Each customer have own app that need to install.
Type of NEs: + G6 
			 + GPON : 7342
			 + ISAM : 7360
			 

ROUTE
Show route table: 
netstat -nr 
Add route: 
route add -net [network] netmask [subnetmask] gw [getway]
route delete -net 135.249.41.0 netmask 255.255.255.0 gw 192.168.95.100
route add -net 135.249.0.0 netmask 255.255.0.0 gw 192.168.92.100
 - 192.168.92.100/24
 - 192.168.92.77/24
 - 192.168.95.100/24
 - 192.168.95.177/24
 - 192.168.72.200/24
 - 192.168.72.177/24
 
 
 
 
 
 
 Route add NAT:
 route ADD 135.249.0.0 MASK 255.255.0.0 192.168.72.100
 
 
 
 
 ---------------------------------------------------------
 enable SSL
+ creat :  keytool -genkeypair -alias mykeypairsha2 -keyalg RSA -keysize 2048 -validity 7300 -sigalg SHA256withRSA -keystore mykeystore
 
 
 
----------------------------------------------------------
CONFIGURE TO START: 
****APC********

Step 1: Set ENABLE Attributes System Setting -> APC -> Miscellaneous settings related to 5526 AMS-M transition requiring Nokia approval then
restart server. ---->>>> APPLY CHANGE********** 
Attribute Custom Ont Override mode: + Enable : when you unconfigure the ONT and ONT card aren't deleted
									+ Disable : 
7342 GPON OR selector : DISABLE : not export cardType and portType
						ENABLE
							
									

Step 2: Import template: when occour error 
    Go to AMS-client and Set Custom Field: Window -> Show view - > Other -> Custom Field :
																	 - internal Attribute Name: phoneNumber
																	 - GUI Name : Phone Number 
																	 - Family :GPON (if GPON) 
																	 - Object: POTS Port
	
	
****AMS****												   
+ Add license 
+ Creat SNMP profile
+ Set NE Detect 

***APPLY SERVICE**** 
Data: (10M10M, 100M100M,... )
**Data (10M10M): 
- Creat VLAN : Mode: C-VLAN Learning
- Add profile (View on APC) 
 Note: Creat profile  and to PQ_HSI profile, perform configure : Queue 1 - 2 
 


**RF_Video (RF_Video)
Voice SIP (2SIP_FTTP)
SES (SES_10M_UNI) 
CES (DS1_SERVICE)

**Voice H248 (2POTS_GR303)
- Creat Link : + NTA
			   + G6 - GPON link
			
------------------------------------------------
OPERATIONS: 
+ SPFE: 
	- Delete: Only delete on NE -> Missing in NE
expected: value of template when you applyservice 
actual : value on NE
+ When you modify a agrument, the value on expected and actual is changed, but one on the APC database isn't changed.
+ Audit service : compare the value on actual NE to APC database 
+ NBI: 
	- audit : audit service, could choose agrument, what you want to audit  
	- audit node: audit node,  have attribute inExess, return requestId 
	- getNodeAuditResult, use requestId of auditNode. 
			Note: PLANNED : the operation isn't performed, isn't executed yet, is executing.
	- check : response the status of attributes in statusExpressionList. statusExpressionList is optional.
	- clean : remove all services 
	- dbClean: delete APC database = delete service(SPFE) --> misalign in APC, clean all service 
	- dbUnconfigure: delete APC databse, only delete service is specified.
	- excute : excute more operation, commandId is unique, action is optional, find in Northbound book. 
	- excuteUrl: 
	- reapplyAllServices: strategy : optional : REAPPLY_ALL enable full discovery of complete port. 
	- modify : modifile APC database and NE

	
--------------------------
WIRESHARK:

Packet Colors: 
	+ green : traffic TCP
	+ Blue: traffic DNS
	+ light blue : traffic UDP
	+ Black: TCP massage have problem.
	
	
			
			
			
			

ams                      9.5.95.00    -       311952
apc-avginclplugs-x.x     1.0          9.5.95  311952
apc-eteg6g7342-x.x       1.0          9.5.95  311952
apc-eteg6g7360-x.x       1.0          9.5.95  311952
apc-eteg6g7367-x.x       1.0          9.5.95  311952
app-ansitl1              1.0          9.5.95  311952
app-apc                  1.0          9.5.95  311952
app-dcscript             1.0          9.5.95  311952
app-idm                  1.0          9.5.95  311952
app-lrm                  1.0          9.5.95  311952
app-np                   1.0          9.5.95  311952
app-oad                  1.0          9.5.95  311952
app-sdc                  1.0          9.5.95  311952
app-spfe                 1.0          9.5.95  311952
combo-g6-12.3            1.0          9.5.95  311952
combo-gpon-4.10          1.0          9.5.95  311952
combo-isam-5.3           1.0          9.5.95  311952
combo-isam-fgn4.4        1.0          9.5.95  311952
---------------------------------

APC
Notes: 
- To change a unmodifiable attributes value -> remove service (just remove on APC database) -> addservice (importTemplate) to make
misalign 
- Template was provisioned. - change version 
							- unconfigure


----------------
View date/time 
command: date


---------------
SERVER CLUSTER CAN'T START 
	- App and Plug are same on 2 server
	- Time must be synchronch.... command : date
	- Check configuration:  + Muilcast AMS server
							+ Multicast Database
							
----------------
Step to verify ticket: 
1. See customer request to add suitable template
2. 
							


-----------------------------------------

not supervision 

+ NE unsuper
+ NE (Partially supervised) 
	- sai SNMP IACM (unreachable)
	- sai SNMP IHUB 
+ NE unreachable  : not be routed

+ NE Supervising : change the SNMP name publicxxxx



--------------------------------------------
Backup and restore: 
Use the ams_backup.sh -f [direction] script 
Setting before: - login by amssys user
				- stop server
GPON49: 135.249.41.115
ISAM53: 135.249.41.14
bash-3.2# /ams0/opt/ams/software/ams-9.4.01-268995/bin/
           /var/opt/ams/users/amssys/
		   /ams/var/opt/ams/users/amssys			
   		   
				
				
				




ams                     9.4.04       -       302574                                            
ansitl1-g6-12.3         1.1          9.4     300320                                            
ansitl1-gpon-4.9        1.2          9.4     300320                                            
ansitl1-isam-5.2        1.2          9.4     300320                                            
ansitl1-isam-fgn4.4     1.0          9.4     300786                                            
apc-730x-x.x            1.1          9.4     298635                                            
apc-avginclplugs-x.x    1.3          9.4     298635                                            
apc-avgplugs-1.0        1.0          9.4     298635                                            
apc-eteg6g7342-x.x      1.2          9.4     298635                                            
apc-eteg6g7360-x.x      1.2          9.4     298635                                            
apc-eteg6g7367-x.x      1.1          9.4     298635                                            
app-ansitl1             1.4          9.4     300320                                            
app-apc                 1.4          9.4     300735                                            
app-dcscript            1.4          9.4     300320                                            
app-idm                 1.4          9.4     298635                                            
app-np                  1.4          9.4     298635                                            
app-oad                 1.3          9.4     288119                                            
app-sdc                 1.4          9.4     300320                                            
app-spfe                1.4          9.4     300735                                            
combo-g6-12.3           1.3          9.4     300735                                            
combo-gpon-4.9          2.2          9.4     300902                                            
combo-isam-5.2          3.1          9.4     301013                                            
combo-isam-5.3          2.1          9.4     303537                                            
combo-isam-fgn4.4       1.0          9.4     292237                                            
np-gpon-4.9             2.1          9.4     288119                                            
np-isam-5.2             1.0          9.4     288119                                            
np-isam-5.3             1.0          9.4     288119 


-----------------------------------

error : /bin/bash: bad interpreter: Text file busy
solutions: 
 lsof | grep myscript.sh
  then
 kill process
 
 for python files
 Using /usr/bin/python pythonfile.py	
 
 
 
 ---------------------------------
 Ports are used in APC : 
 - Show list port : ./ams_updatefirewall --show
 - Check services are really be used right on each port: 
 
 

http://tiger.in.alcatel-lucent.com:8090/display/AMS903/AMS+Firewall+Ports
Page 45 : D:\Documents\APC\5529 APC R9_5 Installation, Administration, and User Guide.pdf
 

 ne       | SNMP Get/Set                                    | udp      | 161 --> setting in SNMP profile
 ne       | TFTP Service                                    | udp      | 69
 all      | Jboss HA RMI                                    | tcp      | 4447 --> 
 client   | HTTP                                            | tcp      | 8080 --> use browser to enter APC GUI or SOAP UI to send operation message by http on port 8080 --> OK
 client   | HTTPS                                           | tcp      | 8443 --> use browser to enter APC GUI or SOAP UI to send operation message by https on port 8443 --> OK 

----------------------------
VNC viewer
ps -ef | grep vnc 
-----------------------------
APC Gui: Template Attribute: Exclude Audit	Exclude Reapply	Exclude Discover : must be loggin by superuser  
 Debug apc.log
[5/9/2016 7:16 PM] Phan Van Tho Anh: 



su - amssys
cd $JBOSS_HOME/bin
./jboss-cli.sh
connect 192.168.92.235:9999
/subsystem=logging/logger=com.alcatel.apc:write-attribute(name="level", value="DEBUG")
/subsystem=logging/logger=com.alcatel.ni:write-attribute(name="level", value="DEBUG") 
[5/9/2016 7:16 PM] Phan Van Tho Anh: 
/var/opt/ams/local/ams-9.5.95.00-317224/traces/debug 

/opt/ams/software/ams-9.5.95.00-320045/bin/ams_server status 


Template Tag
Parameter
Argument
-------------------
Attributes:  set -No-Value-
• migrate, with NO_REBUILD
• modify, without the forceModify parameter
• move (NBI only)
• reapply services or reapply all services with NO_REBUILD
---------------------
- Export Service: *****
+Error Message :  5529 APC R9_5 Installation, Administration, and User Guide.pdf 
page: 189
- Bulk Service provisioning***
Key for import file : 5529 APC R9_5 Installation, Administration, and User Guide.pdf 
page: 195
- System Administration overview: 5529 APC R9_5 Installation, Administration, and User Guide.pdf 
page: 211
--------------
Configure use SoapUI: APC R9_5 Northbound Interface - nbi
Page : 
.

+ Only Verizion and AT&T : enable setting 
+ 


------------------------------------- 
Switch server : 

- Loggin AMS-client 
- Administration -> EMS -> site -> App and Data
- Right click on Server that you want to becam a master -> r
-----------------------------------
Customer / Database / Account / Password
admin1: 283FDE2E1A5CB7DA:1000:02AB800FECAD6C3A2F249DF020456EF36CB868E4
admin1: 4807D0B1ED4DB6C6:1000:6B0DCC565744C54E81B4B9A5F1E1190B04C618BA
4807D0B1ED4DB6C6:1000:6B0DCC565744C54E81B4B9A5F1E1190B04C618BA
update User set Password='4AzyWtQmg7PfZ4xh9Cxr2g==' where name='admin'; 



---------------------------------
iNES
http://tiger.in.alcatel-lucent.com:8090/display/Conv/iNES+Setup
http://tiger.in.alcatel-lucent.com:8090/display/Conv/Start+iNES+use+for+LRM
http://tiger.in.alcatel-lucent.com/svn/axs/tools/branches/ines/iNES/WALKFILES
http://tiger.in.alcatel-lucent.com:8090/display/Conv/How+to+create+walk-file+from+real+NE

192.168.72.208 SSH with root/root123456, Samba with root/123456
input walkfile in patch /export/home/name
Requirement: Interface+IP+Walkfile

-----------------------------------------------------
1.find real Ne: 
2.72.208
3.ping thu Ne ao -> if not -> unreachable -> not created yet
4.creat 
ifconfig igb1:1012 plumb up 44.44.44.112/24 ( create interface and ip for NE) (solaris)
ifconfig igb1:1012 44.44.44.112/24 up  (unbutu,redhat)
5.try ping-> ok
6. creat walk file from any NE
dump file from real NE: 135.249.43.102 root/chenn@!96 patch: /INES/build_86
http://tiger.in.alcatel-lucent.com:8090/display/Conv/How+to+create+walk-file+from+real+NE

when dump file on server 192.168.72.208 choose Ctrl + Z, nhan "bg" 
7. after have walkfile of real Ne -> cd to folder which has build iNes to run and export library:

cd /export/home/iNES_Release/5.601/build_86 ( move to folder where including packet install)
export LD_LIBRARY_PATH=/export/home/iNES_Release/5.601/build_86/mysql32bit/lib:/export/home/iNES_Release/5.601/build_86/ ( export library )
8. iNes will export walk file to sim Ne :

export MIBFILE=/export/home/nvinhhung/FGN44/dump/TOTAL_MIB.txt
./iNESd -i 1 -s 55.55.55.213 -t GPON -f /export/home/nvinhhung/dump/iacm.raw &

export MIBFILE=/export/home/nvinhhung/FGN44/dump/lanx_smiv1_TOTAL_MIB.txt 
./iNESd -i 1 -s 44.44.44.112 -t LANX -f /export/home/nvinhhung/FGN44/dump/shub.raw &

9. test for agent: ps -ef|grep 44.44.44.112
	root 11092  3693   0 10:01:15 pts/28      0:02 ./iNESd -i 1 -s 44.44.44.112 -t FTTN -f /export/home/nvinhhung/FGN44/dump/iacm.
    root 11919  3693   1 10:01:36 pts/28      0:02 ./iNESd -i 1 -s 44.44.44.112 -t LANX -f /export/home/nvinhhung/FGN44/dump/shub.
    root 12417  3693   0 10:01:59 pts/28      0:00 grep 44.44.44.112
10. kill

kill -9 11092
kill -9 11919
11. add firewall for agent
change: vi /etc/sysconfig/iptables
-A INPUT -i eth0 -p udp -m state --state NEW -m udp --sport 50200 -j ACCEPT
-A INPUT -i eth0 -p udp -m state --state NEW -m udp --sport 50270 -j ACCEPT
after that : 
12.restart firewall: service iptables restart

---------------------------------------------
ls &
For redhat unbutu:

export/home/ltinhuy/5.62_4/build_lnx/

ifconfig igb1:1009 44.44.44.109/24 up 
cd /export/home/ttanh/5.67/build_86/
export LD_LIBRARY_PATH=/export/home/ttanh/5.67/build_86/mysql32bit/lib:/export/home/ttanh/5.67/build_86/
export MIBFILE=/export/home/ttanh/ISAM_IHUB53_WF/TOTAL_MIB.txt
./iNESd -i 1 -s 55.55.55.213 -t  -f /export/home/ttanh/ISAM_IHUB53_WF/iacm.walk &
export MIBFILE=/export/home/ttanh/ISAM_IHUB53_WF/ihub_TOTAL_MIB.txt 
./iNESd -i 1 -s 55.55.55.213 -t LANX -f /export/home/ttanh/ISAM_IHUB53_WF/ihub.walk & 
------------------------------------------------------------------------------------
dump file from real NE: 135.249.43.102 root/chenn@!96 patch: /INES/build_86
http://tiger.in.alcatel-lucent.com:8090/display/Conv/How+to+create+walk-file+from+real+NE
---------------------------------------------------------------------------------------------
Build -> http://tiger.in.alcatel-lucent.com/svn/axs/tools/branches/ines/iNES/RELEASES/iNES_SNAPSHOT/iNES.5.62.redhat_lnx.snapshot2.tar.gz 
get from local: http://192.168.95.80/svn/axs/tools/branches/ines/iNES/RELEASES/iNES_SNAPSHOT/iNES.5.62.redhat_lnx.snapshot2.tar.gz
-go to \\192.168.72.208\root\export\home  -> creat ltinhuy ( to include nesssary file )
-put file tar.gz to  ltinhuy folder 
-make 5.62 or 5.62_2 ( for snapshot 2) -> put tar.gz in it
-extract by linux command: gzip -dc tenfile.tar.gz | tar xf - (cd to folder 5.62_2 first)

(  gzip -dc iNES.5.62.x86.snapshot5.tar.gz | tar xf -)
- it will be extracted -> ls
-cd build_lnx/
-chmod 777 iNESd ( for only iNESd)
-if sim Ne use build 5.61 or snapshot 1 -> kill
-then :
cd /export/home/ltinhuy/5.62_5/build_86
export LD_LIBRARY_PATH=/export/home/ltinhuy/5.62_5/build_86/mysql32bit/lib:/export/home/ltinhuy/5.62_5/build_86/ (change the path to my local, avoid congestion with common Folder(ines release))
export MIBFILE=/export/home/nvinhhung/FGN44/dump/TOTAL_MIB.txt
./iNESd -i 1 -s 55.55.55.195 -t FTTN -f /export/home/nvinhhung/FGN44/dump/iacm.raw &
export MIBFILE=/export/home/nvinhhung/FGN44/dump/lanx_smiv1_TOTAL_MIB.txt 
./iNESd -i 1 -s 55.55.55.195 -t LANX -f /export/home/nvinhhung/FGN44/dump/shub.raw & 





FX: iNES / Simulation /7360/7302
----- 
export MIBFILE=/export/home/ltinhuy/7302ISAM/TOTAL_MIB.txt
./iNESd -i 1 -s 55.55.55.192 -t FTTN -f /export/home/ltinhuy/7302ISAM/iacm.raw &

export MIBFILE=/export/home/ltinhuy/7302ISAM/ihub_TOTAL_MIB.txt 
./iNESd -i 1 -s 55.55.55.192 -t IHUB -f /export/home/ltinhuy/7302ISAM/ihub.raw & 


7302: iNES / Simulation /7360/7302
---------
export MIBFILE=/export/home/ltinhuy/FX/TOTAL_MIB.txt
./iNESd -i 1 -s 55.55.55.194 -t FTTN -f /export/home/ltinhuy/FX/iacm.walk &

export MIBFILE=/export/home/ltinhuy/FX/ihub_TOTAL_MIB.txt 
./iNESd -i 1 -s 55.55.55.194 -t IHUB -f /export/home/ltinhuy/FX/ihub.walk & 

----------------


OFFICIAL : 

cd /export/home/ttanh/5.67/build_86/
export LD_LIBRARY_PATH=/export/home/ttanh/5.67/build_86/mysql32bit/lib:/export/home/ttanh/5.67/build_86/

export MIBFILE=/export/home/ttanh/ISAM53_FX_walkfiles/TOTAL_MIB.txt
./iNESd -i 1 -s 55.55.55.217 -t FTTN -f /export/home/ttanh/ISAM53_FX_walkfiles/iacm.walk &

export MIBFILE=/export/home/ttanh/ISAM53_FX_walkfiles/ihub_TOTAL_MIB.txt 
./iNESd -i 1 -s 55.55.55.217 -t IHUB -f /export/home/ttanh/ISAM53_FX_walkfiles/ihub.walk & 











-------------------------------------------------------------------------------------------------

[root@server95214 ~]# netstat -nr
Kernel IP routing table
Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface
192.168.95.0    0.0.0.0         255.255.255.0   U         0 0          0 eth0
44.44.44.0      192.168.95.135  255.255.255.0   UG        0 0          0 eth0
135.249.0.0     192.168.95.100  255.255.0.0     UG        0 0          0 eth0
169.254.0.0     0.0.0.0         255.255.0.0     U         0 0          0 eth0
0.0.0.0         192.168.95.1    0.0.0.0         UG        0 0          0 eth0
----------------------------------
gw for sim NE:
92: 192.168.92.183
95: 192.168.95.135
72: 192.168.72.208

change: vi /etc/sysconfig/iptables
-A INPUT -i eth0 -p udp -m state --state NEW -m udp --sport 50200 -j ACCEPT
-A INPUT -i eth0 -p udp -m state --state NEW -m udp --sport 50270 -j ACCEPT

restart firewall: service iptables restart

cd /var/opt/ams/users/amssys/bin 
./ams_updatefirewall --debug 







 -------------------------------------------------------------------------------------------
link with walkfile :
cd /export/home/iNES_Release/5.601/build_86 ( move to folder where including packet install)
export LD_LIBRARY_PATH=/export/home/iNES_Release/5.601/build_86/mysql32bit/lib:/export/home/iNES_Release/5.601/build_86/ ( export library )

export MIBFILE=/export/home/nvinhhung/FGN44/dump/TOTAL_MIB.txt
./iNESd -i 1 -s 44.44.44.112 -t FTTN -f /export/home/nvinhhung/FGN44/dump/iacm.raw &

export MIBFILE=/export/home/nvinhhung/FGN44/dump/lanx_smiv1_TOTAL_MIB.txt 
./iNESd -i 1 -s 44.44.44.112 -t LANX -f /export/home/nvinhhung/FGN44/dump/shub.raw &

ps -ef|grep 44.44.44.112


bash-3.00# ps -ef|grep 44.44.44.112
    root 11092  3693   0 10:01:15 pts/28      0:02 ./iNESd -i 1 -s 44.44.44.112 -t FTTN -f /export/home/nvinhhung/FGN44/dump/iacm.
    root 11919  3693   1 10:01:36 pts/28      0:02 ./iNESd -i 1 -s 44.44.44.112 -t LANX -f /export/home/nvinhhung/FGN44/dump/shub.
    root 12417  3693   0 10:01:59 pts/28      0:00 grep 44.44.44.112

kill -9 11092
kill -9 11919

------------------------------




COVERITY

Notes:
1. server cannot be started with lot of apps and plugs
2. open AMS GUI takes time

On Single:

1. run the three commands on the server:
yum install python-yaml*
yum install python-argparse*
yum install dos2unix

2. using Coverity build at http://172.21.132.88:8080/browse/COVERITY-ASB

3. Install AMS with required plugs and ams_activate

4. Run commands to open default ports:
iptables --flush
service iptables save
service iptables status
service iptables stop
service iptables start
service iptables status

/sbin/iptables -A INPUT -p all -s 0.0.0.0/0 -d 0.0.0.0/0 -m state --state RELATED,ESTABLISHED -j ACCEPT
/sbin/iptables -A INPUT -p icmp -s 0.0.0.0/0 -d 0.0.0.0/0 -j ACCEPT
/sbin/iptables -A INPUT -p all -i lo -s 0.0.0.0/0 -d 0.0.0.0/0 -j ACCEPT
/sbin/iptables -A INPUT -p tcp --dport 22 -m state --state NEW -j ACCEPT
/sbin/iptables -A INPUT -p all -s 0.0.0.0/0 -d 0.0.0.0/0 -j REJECT --reject-with icmp-host-prohibited
/sbin/iptables -A FORWARD -p all -s 0.0.0.0/0 -d 0.0.0.0/0 -j REJECT --reject-with icmp-host-prohibited

service iptables save
service iptables stop
service iptables start
service iptables status

/opt/ams/software/ams-9.6.00-333881/bin/ams_updatefirewall 

-----

portdescriptor.xml file. 

# APC PORT Interface | Description                        | Protocol | Port number
----------+------------------------------------+----------+------------
eth0      | Jboss HA RMI                       | tcp      | 4447
eth0      | HTTP                               | tcp      | 8080
eth0      | HTTPS                              | tcp      | 8443
eth0      | TFTP Service                       | udp      | 69
eth0      | Internal TL1GW OSS Connection Port | tcp      | 4713
eth0      | Internal TL1GW NE Connection Port  | udp      | 13001





5. Run ams_updatefirewall

6. Open the ports:
/sbin/iptables -I INPUT 3 -m state --state NEW -m tcp -p tcp --dport 9095  -j ACCEPT
/sbin/iptables -I INPUT 4 -m state --state NEW -m tcp -p tcp --dport 9195  -j ACCEPT
/sbin/iptables -I INPUT 4 -m state --state NEW -m tcp -p tcp --dport 9096 -j ACCEPT
				 


delete port:  /sbin/iptables -D INPUT -p tcp --dport 9096  -j ACCEPT

7. Create /Coverity folder

8. Download and Copy coverity-testadvisor-qa-recorder-latest.tar (Coverity linux software package)to Coverity folder from 
http://54.76.152.234/docs/display/testadvisor/Downloads

9. Untar the file -> Command: tar -xvf coverity-testadvisor-qa-recorder-latest.tar

10. Create the folder /Scripts under /Coverity (mkdir Scripts)

11. run command: (Coverity Installation directory and sub-directories must have recursive amssys permissions)
chown -R amssys:amssys /Coverity/*

12. Copy configuration.yaml and CoverityConfigurator.py to Scripts folder (remane the file configuration_server.yaml to configuration.yaml)

13. edit the configuration.yaml file:
ams_include_path: /opt/ams/software/ams-9.5.95.00-313846/lib/platform/bin/ams_include.sh
name: app-server
recorder.url:  http://192.168.92.234:9096
agent.port: 9095-9195
dir: /opt/ams/software/ams-9.5.95.00-313846
dir: /var/opt/ams/local/ams-9.5.95.00-313846/server/wildfly-8.2.1.Final/server/amssys/deployments/





14.before executing the script > change mode for the folders and the files (using root user):
cd /Coverity
chmod 777 *
cd /Coverity/Scripts
chmod 777 *
chmod 777 /Coverity
chmod 777 /Coverity/Scripts


15. Execute CoverityConfigurator.py script as amssys user (login the server with amssys user)
./CoverityConfigurator.py

Note that: ~10 minutes to server starting


16. Start AMS Server

============================================

On cluster:


1. Repeat the same steps as we did for simplex installation
1.1. 1 App + Data server should be configured with "start_recorder: true" and "recorder.url:   http://AMS_Server_IP:9096"
whereas other servers should be configured with "start_recorder: false" and recorder.url should be configured with ip address of AMS server for which the start recorder file is set as true
1.2. b.In a cluster setup ensure that the server agent name and server agent port parameter are  unique for all the servers. (Example- Server1- name: app_server_1 agent.port: 9095, Server2- name: app_server_2 agent.port: 9195)
2. rename the generated app-server config file to default name "app-server.conf"
3. 3.Start AMS Server one by one
-------------------

SNMP Profile: 
IACM : pulic
IHUB : NETMAN


Date: 15/09/2016
From: Anh Tran 	Tuan 
To: Ms. Truc Lieu
C.c: Mr.The Dong

RESIGNATION LETTER
Filel No.: <File No.>
Dear Ms.Truc,

Please accept this letter as my official resignation from employment with TMA effective from 17/09/2016. As fulfillment of 30 days advanced notification by Vietnam Labor code, my last working day will be 17/10/2016.
The reason of my resignation is because of I have accepted a position with another company that will further my growth and development in my career. I have enjoyed working at TMA Solutions and will miss my colleagues. However, this new position will challenge my growth and further my career.
It is my pleasure to be part of AxS QA team. I'd like to express my appreciation to all colleagues during my employment with TMA.
I would like to take this opportunity to wish my colleagues and TMA solutions also great success.
Sincerely,



NAME: Anh Tran 	Tuan 
ID Badge:  164723
Project name: AxS Project












During the next two weeks, I am willing to help you in any way to make the transition as smooth as possible. This includes assisting in recruiting and training my replacement. Please let me know if there is anything specific that you would like me to do.

Again, it has been a pleasure working as a part of your company













DLT-SRVC-POTS:GPON01:ONTPOTS-1-1-11-1-1-2-2:2221;
RTRV-SRVC-LAN:GPON01:ALL:1234:::;






-----------------
TL1 Verizion

trong AMS clint
client
+ Tạo role TL1 (TL1 roles) -> create user TL1 
+ Add user and password TL1user và enable session TL1 trong NE
+ Dien user password cho Internal TL GW setting do

tạo user TL1 trên APC 
rồi còn bước nào n[‎17/‎06/‎2016 11:22] Tran Tuan Anh: 
:/ 
[‎17/‎06/‎2016 11:22] Nguyen Thi Cam Bich: 



telnet 192.168.92.236 port 4713
ACT-USER:AMS:TL1User:123456::123456;
ACT-USER:AMS:admin:00005::admin1;
ACT-USER:CSAMS01:TL1user:00005::TL1user123;
CANC-USER:AMS:::;

*enter -> retrieve -> edit -> retrieve -> suspend -> retrieve -> resume -> retrieve -> migrate -> retrieve -> delete -> retrieve

*Verison:
+ Data:
- GPON:


ENT-SRVC-LAN:172.21.176.241:ONTVDSL2-1-1-5-2-1-1-1:data::10M10M:ONTTYPE=GMDU,CVLANID=4012,VLANID=54,SERVICEID=1,LABEL=VDSL2POTSCombo,CVLANFDB=4012,CKTID=HSI,SUBSLOCID=WILDCARD:IS;
RTRV-SRVC-LAN:172.21.176.241:ALL:data;
RTRV-SRVC-LAN:172.21.176.241:ONTVDSL2-1-1-5-2-1-1-1:data::SERVICEID=1;
ED-SRVC-LAN:172.21.176.241:ONTVDSL2-1-1-5-2-1-1-1:data::10M10M:LABEL=edited,CVLANID=4013,SUBSLOCID=WILDCARD;
ED-SRVC-LAN:172.21.176.241:ONTVDSL2-1-1-5-2-1-1-1:data::10M10M::OOS;
ED-SRVC-LAN:172.21.176.241:ONTVDSL2-1-1-5-2-1-1-1:data::10M10M::IS;
ED-SRVC-LAN:172.21.176.241:ONTVDSL2-1-1-5-2-1-1-1:data::10M10M:SRVCTMPLT=20M20M;
DLT-SRVC-LAN:172.21.176.241:ONTVDSL2-1-1-5-2-1-1-1:data::20M20M:SERVICEID=1;
135.249.41.31
ENT-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:data::10M10M:ONTTYPE=GMDU,CVLANID=4012,VLANID=54,SERVICEID=1,LABEL=EthPotsCombo,CVLANFDB=4012,CKTID=HSI,SUBSLOCID=WILDCARD:IS;
RTRV-SRVC-LAN:172.21.176.241:ALL:data;
RTRV-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:data::SERVICEID=1;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:data::10M10M:LABEL=edited,CVLANID=4013,SUBSLOCID=WILDCARD;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:data::10M10M::OOS;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:data::10M10M::IS;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:data::10M10M:SRVCTMPLT=20M20M;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:data::10M10M:SRVCTMPLT=50M_35M_D;
DLT-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:data::20M20M:SERVICEID=1;

ENT-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:::10M10M:ONTTYPE=GSFU,CVLANID=4012,VLANID=54,SERVICEID=1,LABEL=Ethernet,CVLANFDB=4012,CKTID=HSI,SUBSLOCID=WILDCARD:IS; 
RTRV-SRVC-LAN:172.21.176.241:ALL:data;
RTRV-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:data::SERVICEID=1;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:data::10M10M:LABEL=edited,CVLANID=4013,SUBSLOCID=WILDCARD;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:data::10M10M::OOS;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:data::10M10M::IS;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:data::10M10M:SRVCTMPLT=20M20M;
DLT-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:data::20M20M:SERVICEID=1;

ENT-SRVC-LAN:172.21.176.241:ONTMOCA-1-1-5-2-1-1-1:::10M10M:ONTTYPE=GSFU,CVLANID=4012,VLANID=54,SERVICEID=1,LABEL=MOCA,CVLANFDB=4012,CKTID=HSI,SUBSLOCID=WILDCARD:IS;
RTRV-SRVC-LAN:172.21.176.241:ALL:data;
RTRV-SRVC-LAN:172.21.176.241:ONTMOCA-1-1-5-2-1-1-1:data::SERVICEID=1;
ED-SRVC-LAN:172.21.176.241:ONTMOCA-1-1-5-2-1-1-1:data::10M10M:LABEL=edited,CVLANID=4013,SUBSLOCID=WILDCARD;
ED-SRVC-LAN:172.21.176.241:ONTMOCA-1-1-5-2-1-1-1:data::10M10M::OOS;
ED-SRVC-LAN:172.21.176.241:ONTMOCA-1-1-5-2-1-1-1:data::10M10M::IS;
ED-SRVC-LAN:172.21.176.241:ONTMOCA-1-1-5-2-1-1-1:data::10M10M:SRVCTMPLT=20M20M;
DLT-SRVC-LAN:172.21.176.241:ONTMOCA-1-1-5-2-1-1-1:data::20M20M:SERVICEID=1;

+ RF_Video:
ENT-SRVC-LAN:172.21.176.241:ONTVIDUNI-1-1-5-2-1-1-1:video::RF_Video:SUBSLOCID=WILDCARD:IS;
RTRV-SRVC-LAN:172.21.176.241:ALL:video;
RTRV-SRVC-LAN:172.21.176.241:ONTVIDUNI-1-1-5-2-1-1-1:video::SERVICEID=1;
ED-SRVC-LAN:172.21.176.241:ONTVIDUNI-1-1-5-2-1-1-1:video::RF_Video:SUBSLOCID=WILDCARD;
ED-SRVC-LAN:172.21.176.241:ONTVIDUNI-1-1-5-2-1-1-1:video::RF_Video::OOS;
ED-SRVC-LAN:172.21.176.241:ONTVIDUNI-1-1-5-2-1-1-1:video::RF_Video::IS;
ED-SRVC-LAN:172.21.176.241:ONTVIDUNI-1-1-5-2-1-1-1:video::RF_Video:SRVCTMPLT=RF_Video_FEC;
DLT-SRVC-LAN:172.21.176.241:ONTVIDUNI-1-1-5-2-1-1-1:video::RF_Video_FEC:SERVICEID=1;

+ Voice SIP:
ENT-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip::2SIP_FTTP:TN=1234567890,LABEL=Test,CUSTINFO=sip,SPGUNAME=sip,SPGPWD=sip,ONTTYPE=GSFU,ONTCARDTYPE=POTS,SVLAN=54,SRCVLANID=4012,CVLANFDB=4012,SUBSLOCID=WILDCARD,CLIENTID=sip,REALM=sip:IS;
RTRV-SRVC-VOIP:172.21.176.241:ALL:sip:::;
RTRV-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip:::TN=1234567890;
RTRV-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip:::TN=1111111111;
ED-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip:::TN=1111111111,LABEL=edited,SUBSLOCID=WILDCARD,SPGUNAME=edited,SPGPWD=edited,CLIENTID=edited;
ED-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip::::OOS;
ED-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip::::IS;
ED-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip:::SRVCTMPLT=8SIP_FTTP;
DLT-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip;

ENT-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:::2SIP_FTTP:TN=1234567890,LABEL=Test,CUSTINFO=sip,SPGUNAME=sip,SPGPWD=sip,ONTTYPE=GMDU,ONTCARDTYPE=VDSLPOTS,SVLAN=54,SRCVLANID=4012,CVLANFDB=4012,SUBSLOCID=WILDCARD,CLIENTID=sip,REALM=sip:IS;
RTRV-SRVC-VOIP:172.21.176.241:ALL:sip:::;
RTRV-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip:::TN=1234567890;
RTRV-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip:::TN=1111111111;
ED-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip:::TN=1111111111,LABEL=edited,SUBSLOCID=WILDCARD,SPGUNAME=edited,SPGPWD=edited,CLIENTID=edited;
ED-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip::::OOS;
ED-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip::::IS;
ED-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip:::SRVCTMPLT=8SIP_FTTP;
DLT-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip;

ENT-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:::2SIP_FTTP:TN=1234567890,LABEL=Test,CUSTINFO=sip,SPGUNAME=sip,SPGPWD=sip,ONTTYPE=GMDU,ONTCARDTYPE=ETHPOTS,SVLAN=54,SRCVLANID=4012,CVLANFDB=4012,SUBSLOCID=WILDCARD,CLIENTID=sip,REALM=sip:IS;
RTRV-SRVC-VOIP:172.21.176.241:ALL:sip:::;
RTRV-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip:::TN=1234567890;
RTRV-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip:::TN=1111111111;
ED-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip:::TN=1111111111,LABEL=edited,SUBSLOCID=WILDCARD,SPGUNAME=edited,SPGPWD=edited,CLIENTID=edited;
ED-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip::::OOS;
ED-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip::::IS;
ED-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip:::SRVCTMPLT=8SIP_FTTP;
DLT-SRVC-VOIP:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:sip;

+ Voice H248:
ENT-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice::2POTS_GR303:ONTTYPE=GMDU,IGTYPE=303,TN=9633246099,IG=1,CRV=1001,ontcardtype=VDSL2POTS,LABEL=voice,CUSTINFO=voice,SUBSLOCID=WILDCARD,POTSGRP=1,SVLAN=3012;
RTRV-SRVC-POTS:172.21.176.241:ALL:voice:::;
RTRV-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::;
RTRV-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=9633246099;
RTRV-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=1111111111;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=1111111111,LABEL=edited,SUBSLOCID=WILDCARD;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice::::OOS;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice::::IS;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::SRVCTMPLT=8POTS_GR303;
DLT-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice;

ENT-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice::2POTS_GR303:ONTTYPE=GSFU,IGTYPE=303,TN=9633246098,IG=1,CRV=1002,ontcardtype=POTS,LABEL=voice,CUSTINFO=voice,SUBSLOCID=WILDCARD,POTSGRP=1,SVLAN=3012;
RTRV-SRVC-POTS:172.21.176.241:ALL:voice:::;
RTRV-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::;
RTRV-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=9633246098;
RTRV-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=1111111111;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=1111111111,LABEL=edited,SUBSLOCID=WILDCARD;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice::::OOS;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice::::IS;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::SRVCTMPLT=8POTS_GR303;
DLT-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice;

ENT-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice::2POTS_GR303:ONTTYPE=GMDU,IGTYPE=303,TN=9633246099,IG=1,CRV=1003,ontcardtype=ETHPOTS,LABEL=voice,CUSTINFO=voice,SUBSLOCID=WILDCARD,POTSGRP=1,SVLAN=3012;
RTRV-SRVC-POTS:172.21.176.241:ALL:voice:::;
RTRV-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::;
RTRV-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=9633246099;
RTRV-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=1111111111;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=1111111111,LABEL=edited,SUBSLOCID=WILDCARD;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice::::OOS;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice::::IS;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::SRVCTMPLT=8POTS_GR303;
DLT-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice;

+ SES:
ENT-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:ses::SES_10M_UNI:ONTTYPE=GSFU,VLANID=3012,SERVICEID=1,LABEL=Ethernet,CKTID=ses,RATELIMITUSDHCP=16,RATELIMITUSARP=16;
RTRV-SRVC-LAN:172.21.176.241:ALL:ses;
RTRV-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:ses::SERVICEID=1;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:ses::SES_10M_UNI:LABEL=edited,CKTID=edited,SUBSLOCID=WILDCARD;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:ses::SES_10M_UNI::OOS;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:ses::SES_10M_UNI::IS;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:ses::SES_10M_UNI:SRVCTMPLT=SES_100M_UNI;
DLT-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:ses::SES_100M_UNI:SERVICEID=1;

+ CES:
ENT-SRVC-CES:172.21.176.241:ONTDS1-1-1-5-2-1-1-1:ces::DS1_SERVICE:CESIPADD=0.0.0.0,ONTTYPE=GSBU,BWPROFUPNM=1_DS1,BWPROFDNNM=1_DS1,SVLAN=3012,SRCVLANID=0,NETMASKLOC=0.0.0.0,DEFROUTER=0.0.0.0,CKTID=ces,SERVICEID=1,SRCUDP=65535,DSTURI="123test":IS;
RTRV-SRVC-CES:172.21.176.241:ALL:ces:::;
RTRV-SRVC-CES:172.21.176.241:ONTDS1-1-1-5-2-1-1-1:ces:::CESIPADD=0.0.0.0,SERVICEID=1;
ED-SRVC-CES:172.21.176.241:ONTDS1-1-1-5-2-1-1-1:ces:::SUBSLOCID=WILDCARD,SERVICEID=1,DSTURI="456test",ENCODING=B8ZS,LLENGTH=0TO133FT,BWPROFUPNM=10M,BWPROFDNNM=10M;
ED-SRVC-CES:172.21.176.241:ONTDS1-1-1-5-2-1-1-1:ces::::OOS;
ED-SRVC-CES:172.21.176.241:ONTDS1-1-1-5-2-1-1-1:ces::::IS;
ED-SRVC-CES:172.21.176.241:ONTDS1-1-1-5-2-1-1-1:ces:::SRVCTMPLT=DS1_SERVICE_FEC;
DLT-SRVC-CES:172.21.176.241:ONTDS1-1-1-5-2-1-1-1:ces:::SERVICEID=1;

- ISAM FX:
+ SES:
ENT-SRVC-LAN:172.21.176.228:ONTENET-1-1-5-2-1-1-1:ses::VZ_1G_SES:ONTTYPE=GSFU,PORTID=1,CVLANID=3012,SUBSLOCID=1,CKTID=CKTID_99,PAEPORTSTATE=ENABLED,VLANFIXMAP=DUAL,LABEL=Label_21,NTPORT=NTAXFP-1:IS;
RTRV-SRVC-LAN:172.21.176.228:ALL:ses;
RTRV-SRVC-LAN:172.21.176.228:ONTENET-1-1-5-2-1-1-1:ses;
ED-SRVC-LAN:172.21.176.228:ONTENET-1-1-5-2-1-1-1:ses::VZ_1G_SES:LABEL=edited,SUBSLOCID=edited,CKTID=edited;
ED-SRVC-LAN:172.21.176.228:ONTENET-1-1-5-2-1-1-1:ses::VZ_1G_SES::OOS;
ED-SRVC-LAN:172.21.176.228:ONTENET-1-1-5-2-1-1-1:ses::VZ_1G_SES::IS;
DLT-SRVC-LAN:172.21.176.228:ONTENET-1-1-5-2-1-1-1:ses::VZ_1G_SES;

+ Voice H.248
ENT-SRVC-POTS:DETECTED_AT_135.249.46.7:ONTPOTS-1-1-4-16-45-2-1:::7360_POTS_GR303:ONTTYPE=GSFU,IGTYPE=303,TN=9633246099,IG=1,CRV=1145,ontcardtype=POTS;

*AT&T:
- GPON:
+ Data&Video:
ENT-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:DV::7342_36M_5M_SFU:CKTID=A7/MCXX/704677//SW,ONTTYPE=GSFU,SUBSLOCID=1,VLANFIXMAP=DUAL:IS;
RTRV-SRVC-LAN:172.21.176.241:ALL:DV;
RTRV-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:DV::SERVICEID=1;
ED-8021XPAE:172.21.176.241:USERPORT-1-1-5-2-1-1-1::::PAEPORTSTATE=ENABLED;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:DV::7342_36M_5M_SFU:LABEL=edited,CKTID=edited,SUBSLOCID=edited;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:DV::7342_36M_5M_SFU::OOS;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:DV::7342_36M_5M_SFU::IS;
ED-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:DV::7342_36M_5M_SFU:SRVCTMPLT=7342_85M_8M_SFU;
DLT-SRVC-LAN:172.21.176.241:ONTENET-1-1-5-2-1-1-1:DV::7342_85M_8M_SFU:SERVICEID=1;

ENT-SRVC-LAN:172.21.176.241:ONTVDSL2-1-1-5-2-1-1-1:DV::7342_M300_36M_5M_MDU:CKTID=A7/MCXX/704678//SW,ONTTYPE=,VLANFIXMAP=:IS;
RTRV-SRVC-LAN:172.21.176.241:ALL:DV;
RTRV-SRVC-LAN:172.21.176.241:ONTVDSL2-1-1-5-2-1-1-1:DV::SERVICEID=1;
ED-8021XPAE:172.21.176.241:USERPORT-1-1-5-2-1-1-1::::PAEPORTSTATE=ENABLED;
ED-SRVC-LAN:172.21.176.241:ONTVDSL2-1-1-5-2-1-1-1:DV::7342_M300_36M_5M_MDU:LABEL=edited,CKTID=edited,SUBSLOCID=edited;
ED-SRVC-LAN:172.21.176.241:ONTVDSL2-1-1-5-2-1-1-1:DV::7342_M300_36M_5M_MDU::OOS;
ED-SRVC-LAN:172.21.176.241:ONTVDSL2-1-1-5-2-1-1-1:DV::7342_M300_36M_5M_MDU::IS;
ED-SRVC-LAN:172.21.176.241:ONTVDSL2-1-1-5-2-1-1-1:DV::7342_M300_36M_5M_MDU:SRVCTMPLT=7342_M300_13M_1DOT5M_MDU;
DLT-SRVC-LAN:172.21.176.241:ONTVDSL2-1-1-5-2-1-1-1:DV::7342_M300_13M_1DOT5M_MDU:SERVICEID=1;

+ Voice H248:
ENT-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice::GSFU_POTS:IG=3,IGTYPE=303,CRV=1921,TN=9954453322,ONTTYPE=GSFU,POTSGRP=1:IS;
RTRV-SRVC-POTS:172.21.176.241:ALL:voice:::;
RTRV-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::;
RTRV-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=9954453322;
RTRV-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=1111111111;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=1111111111,LABEL=edited,SUBSLOCID=1;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice::::OOS;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice::::IS;
DLT-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice;

ENT-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice::GMDU_POTS:IG=3,IGTYPE=303,CRV=1924,TN=9332333455,ONTTYPE=GMDU,POTSGRP=1:IS;
RTRV-SRVC-POTS:172.21.176.241:ALL:voice:::;
RTRV-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::;
RTRV-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=9332333455;
RTRV-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=1111111111;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=1111111111,LABEL=edited,SUBSLOCID=1;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice::::OOS;
ED-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice::::IS;
DLT-SRVC-POTS:172.21.176.241:ONTPOTS-1-1-5-2-1-1-1:voice;

- ISAM FX:
+ Data&Video:
ENT-SRVC-LAN:172.21.176.228:ONTENET-1-1-5-2-1-1-1:voice::7360_36M_5M_SFU:ONTTYPE=GSFU,PORTID=1,SUBSLOCID=1,CKTID=CKTID_99,VLANFIXMAP=DUAL,LABEL=Label_21,LAGID=LAG-1:IS;
RTRV-SRVC-LAN:172.21.176.228:ALL:DV;
RTRV-SRVC-LAN:172.21.176.228:ONTENET-1-1-5-2-1-1-1:DV;
ED-8021XPAE:172.21.176.228:USERPORT-1-1-5-2-1-1-1::::PAEPORTSTATE=ENABLED;
ED-SRVC-LAN:172.21.176.228:ONTENET-1-1-5-2-1-1-1:DV::7360_36M_5M_SFU:LABEL=edited,SUBSLOCID=edited,CKTID=edited,PAEPORTSTATE=ENABLED;
ED-SRVC-LAN:172.21.176.228:ONTENET-1-1-5-2-1-1-1:DV::7360_36M_5M_SFU::OOS;
ED-SRVC-LAN:172.21.176.228:ONTENET-1-1-5-2-1-1-1:DV::7360_36M_5M_SFU::IS;
ED-SRVC-LAN:172.21.176.228:ONTENET-1-1-5-2-1-1-1:DV::7360_36M_5M_SFU:SRVCTMPLT=7360_55M_6M_SFU;
DLT-SRVC-LAN:172.21.176.228:ONTENET-1-1-5-2-1-1-1:DV::7360_55M_6M_SFU;

+ Voice H.248:
ENT-SRVC-POTS:172.21.176.228:ONTPOTS-1-1-5-2-1-1-1:voice::7360_GSFU_POTS:IG=1,IGTYPE=303,CRV=2003,TERMID=tp11,TN=1234567890,VOIPSERV=1,CUSTINFO=custinfo,LABEL=voice,SUBSLOCID=1,POTSGRP=1,SRCVLANID=4040,ONTTYPE=GSFU:IS;
RTRV-SRVC-POTS:172.21.176.228:ALL:::;
RTRV-SRVC-POTS:172.21.176.228:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=1234567890;
RTRV-SRVC-POTS:172.21.176.228:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=1111111111;
ED-SRVC-POTS:172.21.176.228:ONTPOTS-1-1-5-2-1-1-1:voice:::TN=1111111111,LABEL=edited,SUBSLOCID=edited,FEC=ENABLED;
ED-SRVC-POTS:172.21.176.228:ONTPOTS-1-1-5-2-1-1-1:voice::::OOS;
ED-SRVC-POTS:172.21.176.228:ONTPOTS-1-1-5-2-1-1-1:voice::::IS;
DLT-SRVC-POTS:172.21.176.228:ONTPOTS-1-1-5-2-1-1-1:voice;

- ISAM SX:
+ Voice H.248:
ENT-SRVC-POTS:135.249.46.2:POTS-1-1-2-4:voice::7367_POTS_303:IG=1,IGTYPE=303,CRV=89,TN=0123456789:IS;
RTRV-SRVC-POTS:135.249.46.2:ALL:voice:::;
RTRV-SRVC-POTS:135.249.46.2:POTS-1-1-2-4:voice:::TN=0123456789;
RTRV-SRVC-POTS:135.249.46.2:POTS-1-1-2-4:voice:::TN=1111111111;
ED-SRVC-POTS:135.249.46.2:POTS-1-1-2-4:voice:::TN=1111111111:IS;
ED-SRVC-POTS:135.249.46.2:POTS-1-1-2-4:voice::::OOS;
ED-SRVC-POTS:135.249.46.2:POTS-1-1-2-4:voice::::IS;
ED-SRVC-POTS:135.249.46.2:POTS-1-1-2-4:voice:::SRVCTMPLT=7367_POTS_303_migrate:IS;
DLT-SRVC-POTS:135.249.46.2:POTS-1-1-2-4:voice;

ENT-SRVC-POTS:RALATT7360:ONTPOTS-1-1-8-7-3-2-1:::7360GSFUPOTS:IG=5,IGTYPE=303,CRV=873,TN=7776687623,ONTTYPE=GSFU,POTSGRP=1:IS;
ENT-SRVC-LAN:RALATT7360:ONTENET-1-1-8-7-2-1-1:9009:: 7360300M300MSFU:ONTTYPE=GSFU,VLANFIXMAP=Dual,PORTID=1,LABEL=DVport6,PAEPORTSTATE=ENABLED,CKTID=OrangeDV6,LAGID=LAG-10:IS;
ED-SRVC-LAN:RALATT7360:ONTENET-1-1-8-7-3-2-1:9009::7360300M300MSFU:SRVCTMPLT=73601G1GSFU;
ED-SRVC-LAN:RALATT7360:ONTENET-1-1-8-7-3-2-1:9009::73601G1GSFU:SRVCTMPLT=7360300M300MSFU;
ED-SRVC-LAN:RALATT7360:ONTENET-1-1-8-7-3-2-1:9009::7360300M300MSFU:SRVCTMPLT=73601G1GSFU;
DLT-SRVC-LAN:RALATT7360:ONTENET-1-1-8-7-3-2-1:9009::7360_1G_1G_SFU;
DLT-SRVC-POTS:RALATT7360:ONTPOTS-1-1-8-7-3-2-1;

ENT-SRVC-POTS:STEELERSOL:ONTPOTS-1-1-7-4-1-2-1:::7360_GSFU_POTS:IG=2,IGTYPE=303,CRV=873,TN=7776687623,ONTTYPE=GSFU,SUBSLOCID=RICKTEST,POTSGRP=1:IS;
IP 0
<

   STEELERSOL 15-12-09 11:48:19
M  0 COMPLD
   /* ENT-SRVC-POTS:STEELERSOL:ONTPOTS-1-1-7-4-1-2-1:::7360_GSFU_POTS:IG=2,IGTYPE=303,CRV=873,TERMID=tp21,ONTTYPE=GSFU,ONTCARDTYPE=POTS,TN=7776687623,SVLAN=0,VOIPCLIENTADDR=10.204.103.192,SUBSLOCID=RICKTEST,CUSTINFO=,LABEL=,CKTID=,POTSGRP=,SRCVLANID=4040:IS */
   /* 1 VoIP H248 Service Entered */
;
<ENT-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-1-1:9009::7360_300M_300M_SFU:ONTTYPE=GSFU,VLANFIXMAP=DUAL,PAEPORTSTATE=ENABLED,SUBSLOCID=RICKTEST,CKTID=OrangeDV6,LAGID=LAG-10:IS;
IP 9009
<

   STEELERSOL 15-12-09 11:57:14
M  9009 COMPLD
   /* ENT-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-1-1:9009::7360_300M_300M_SFU:ONTTYPE=GSFU,VLANFIXMAP=DUAL,PAEPORTSTATE=ENABLED,SUBSLOCID=RICKTEST,CKTID=OrangeDV6,LAGID=LAG-10:IS */
   /* VLANID=101, CVLANID=2*/
;
<ED-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-1-1:9009::7360_300M_300M_SFU:SRVCTMPLT=7360_1G_1G_SFU_VID;
IP 9009
<

   STEELERSOL 15-12-09 11:59:17
M  9009 DENY
   /* ED-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-1-1:9009::7360_300M_300M_SFU:SRVCTMPLT=7360_1G_1G_SFU_VID */
   SABT
   /* Status, Aborted */
   /* Unable to set attributes on service object */
;
<



Below are more specifics regarding which transactions worked and which failed and the associated results.  Also attached is the applicable apc-audit.log file.

Test Case 1 (all 3 TL1 commands appear to work but the ED_SRVC_LAN does not set the downstream profiles correctly—see the pictures):

<ENT-SRVC-POTS:STEELERSOL:ONTPOTS-1-1-7-4-1-2-1:::7360_GSFU_POTS:IG=2,IGTYPE=303,CRV=873,TERMID=tp21,ONTTYPE=GSFU,ONTCARDTYPE=POTS,TN=7776687623,SVLAN=0,VOIPCLIENTADDR=10.204.103.192,SUBSLOCID=,CUSTINFO=,LABEL=,CKTID=,POTSGRP=,SRCVLANID=4040:IS */
   /* 1 VoIP H248 Service Entered */

<ENT-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-3-1:9009:: 7360_300M_300M_SFU:ONTTYPE=GSFU,VLANFIXMAP=Dual,PORTID=1,LABEL=DVport6,PAEPORTSTATE=ENABLED,CKTID=OrangeDV6,LAGID=LAG-10:IS;
IP 9009
<

   STEELERSOL 15-12-08 14:32:02
M  9009 COMPLD
   /* ENT-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-3-1:9009:: 7360_300M_300M_SFU:ONTTYPE=GSFU,VLANFIXMAP=Dual,PORTID=1,LABEL=DVport6,PAEPORTSTATE=ENABLED,CKTID=OrangeDV6,LAGID=LAG-10:IS */
   /* VLANID=101, CVLANID=26*/
;
<ED-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-3-1:9009::7360_300M_300M_SFU:SRVCTMPLT=7360_1G_1G_SFU_VID;
IP 9009
<

   STEELERSOL 15-12-08 14:33:16
M  9009 COMPLD
   /* ED-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-3-1:9009::7360_300M_300M_SFU:SRVCTMPLT=7360_1G_1G_SFU_VID */
;

Note upstream Bandwidth Profile is for new data service:



Test Case 2 (both tests were successful):
<ENT-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-3-1:9009::7360_300M_300M_SFU:ONTTYPE=GSFU,VLANFIXMAP=Dual,PORTID=1,LABEL=DVport6,PAEPORTSTATE=ENABLED,CKTID=OrangeDV6,LAGID=LAG-10:IS;
IP 9009
   STEELERSOL 15-12-08 14:18:54
M  9009 COMPLD
   /* ENT-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-3-1:9009::7360_300M_300M_SFU:ONTTYPE=GSFU,VLANFIXMAP=Dual,PORTID=1,LABEL=DVport6,PAEPORTSTATE=ENABLED,CKTID=OrangeDV6,LAGID=LAG-10:IS */
   /* VLANID=101, CVLANID=26*/

<ED-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-3-1:9009::7360_300M_300M_SFU:SRVCTMPLT=7360_1G_1G_SFU_VID;
IP 9009
<

   STEELERSOL 15-12-08 14:33:16
M  9009 COMPLD
   /* ED-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-3-1:9009::7360_300M_300M_SFU:SRVCTMPLT=7360_1G_1G_SFU_VID */
;

Test Case 3:
<ENT-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-4-1:9009::7360_1G_1G_SFU_VID:ONTTYPE=GSFU,VLANFIXMAP=Dual,PORTID=1,LABEL=DVport8,PAEPORTSTATE=ENABLED,CKTID=OrangeDV6,LAGID=LAG-10:IS;
IP 9009
<

   STEELERSOL 15-12-08 14:51:39
M  9009 COMPLD
   /* ENT-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-4-1:9009::7360_1G_1G_SFU_VID:ONTTYPE=GSFU,VLANFIXMAP=Dual,PORTID=1,LABEL=DVport8,PAEPORTSTATE=ENABLED,CKTID=OrangeDV6,LAGID=LAG-10:IS */
   /* VLANID=101, CVLANID=38*/
;
<

ED-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-4-1:9009::7360_1G_1G_SFU_VID:SRVCTMPLT=7360_300M_300M_SFU;
IP 9009
<

   STEELERSOL 15-12-08 14:55:57
M  9009 COMPLD
   /* ED-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-4-1:9009::7360_1G_1G_SFU_VID:SRVCTMPLT=7360_300M_300M_SFU */
;
<

ED-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-4-1:9009::7360_300M_300M_SFU:SRVCTMPLT=7360_1G_1G_SFU_VID;
IP 9009
<

   STEELERSOL 15-12-08 14:58:27
M  9009 COMPLD
   /* ED-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-4-1:9009::7360_300M_300M_SFU:SRVCTMPLT=7360_1G_1G_SFU_VID */
;
<

ED-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-4-1:9009::7360_1G_1G_SFU_VID:SRVCTMPLT=7360_300M_300M_SFU;
IP 9009
<

   STEELERSOL 15-12-08 15:01:44
M  9009 COMPLD
   /* ED-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-4-1:9009::7360_1G_1G_SFU_VID:SRVCTMPLT=7360_300M_300M_SFU */
;
<;<ENT-SRVC-POTS:STEELERSOL:ONTPOTS-1-1-7-4-1-2-1:::7360_GSFU_POTS:IG=2,IGTYPE=303,CRV=873,TN=7776687623,ONTTYPE=GSFU,POTSGRP=1:IS;
IP 0
<

   STEELERSOL 15-12-08 15:05:17
M  0 COMPLD
   /* ENT-SRVC-POTS:STEELERSOL:ONTPOTS-1-1-7-4-1-2-1:::7360_GSFU_POTS:IG=2,IGTYPE=303,CRV=873,TERMID=tp21,ONTTYPE=GSFU,ONTCARDTYPE=POTS,TN=7776687623,SVLAN=0,VOIPCLIENTADDR=10.204.103.192,SUBSLOCID=,CUSTINFO=,LABEL=,CKTID=,POTSGRP=,SRCVLANID=4040:IS */
   /* 1 VoIP H248 Service Entered */

Test Case 4 (all TL1 commands work but there is an error and upstream and downstream profiles do not match the 7360_1G_1G_SFU_VID stack):

ENT-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-3-1:9009::7360_300M_300M_SFU:ONTTYPE=GSFU,VLANFIXMAP=Dual,PORTID=1,LABEL=DVport6,PAEPORTSTATE=ENABLED,CKTID=OrangeDV6,LAGID=LAG-10:IS;
IP 9009
<

   STEELERSOL 15-12-08 14:18:53
** 56 REPT ALM ONTCARD
   "ONTCARD-1-1-7-4-1-3:MJ,LIMSVCMIS,SA,12-8,14-18-53:
   \"OLT or ONT did not accept the configuration request for the Card\""
;

   STEELERSOL 15-12-08 14:18:54
M  9009 COMPLD
   /* ENT-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-3-1:9009::7360_300M_300M_SFU:ONTTYPE=GSFU,VLANFIXMAP=Dual,PORTID=1,LABEL=DVport6,PAEPORTSTATE=ENABLED,CKTID=OrangeDV6,LAGID=LAG-10:IS */
   /* VLANID=101, CVLANID=26*/

ED-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-3-1:9009::7360_300M_300M_SFU:SRVCTMPLT=7360_1G_1G_SFU_VID;
IP 9009
<
   STEELERSOL 15-12-08 14:21:24
M  9009 COMPLD


7360_1G_1G_SFU_VID
   STEELERSOL 15-12-08 14:24:23
M  9009 COMPLD
   /* DLT-SRVC-LAN:STEELERSOL:ONTENET-1-1-7-4-1-3-1:9009::7360_1G_1G_SFU_VID */
;

<ENT-SRVC-POTS:STEELERSOL:ONTPOTS-1-1-7-4-1-2-1:::7360_GSFU_POTS:IG=2,IGTYPE=303,CRV=873,TN=7776687623,ONTTYPE=GSFU,POTSGRP=1:IS;
IP 0
<

   STEELERSOL 15-12-08 14:28:07
M  0 COMPLD
   /* ENT-SRVC-POTS:STEELERSOL:ONTPOTS-1-1-7-4-1-2-1:::7360_GSFU_POTS:IG=2,IGTYPE=303,CRV=873,TERMID=tp21,ONTTYPE=GSFU,ONTCARDTYPE=POTS,TN=7776687623,SVLAN=0,VOIPCLIENTADDR=10.204.103.192,SUBSLOCID=,CUSTINFO=,LABEL=,CKTID=,POTSGRP=,SRCVLANID=4040:IS */
   /* 1 VoIP H248 Service Entered */
;




	

------------------------
DELETE tempales
	http://192.168.95.219:8080/apc/default.html?bookmarkablePage=com.alcatel.apc.html.core.EngineeringToolkitPage 
	http://192.168.95.151:8080/apc/default.html?bookmarkablePage=com.alcatel.apc.html.core.EngineeringToolkitPage
	http://192.168.95.214:8080/apc/default.html?bookmarkablePage=com.alcatel.apc.html.core.EngineeringToolkitPage 



ENT-SRVC-POTS:135.249.41.31:ONTPOTS-1-1-16-1-1-2-1:1111::GMDU_POTS_08:ONTTYPE=GMDU,IG=5,IGTYPE=08,CRV=19,TN=0188888111,
SVLAN=4040,CUSTINFO=ATT,LABEL=POTS,SUBSLOCID=1:IS;







ENT-SRVC-POTS:GPON:ONTPOTS-1-1-16-1-1-2-1:1111::GMDU_POTS_TR08:ONTTYPE=GMDU,IG=5,IGTYPE=08,CRV=19,TN=0188888111,
SVLAN=4040,CUSTINFO=ATT,LABEL=POTS,SUBSLOCID=1:IS;



--------------------------------------
Port Name,Status,Error
Detected_at_135.249.41.180:1-1-1-2-2,Failed,Template not supported on port: APC configure operation failed
,,  Unable to use apc.isam.pon.voip.uni null null for Detected_at_135.249.41.180:1-1-1-2-2: invalid configurator. 



clean, auditPort 

Problem: 

Port Name,Status,Error
135.249.41.30:1-1-2-2-3,Failed,Generic configuration error: APC configure operation failed
,,"  Could not configure the complete configuration, did a successful rollback"
,,  Could not configure G7342 ONT Ethernet Port on 1-1-2-2-3-1
,,  com.alcatel.ni.commands.core.command.CouldNotResolveException: The value 'global_dscpPbitMap_profile' for attribute ethPortDscpProfileName could not be found on '135.249.41.30'
,,  The value 'global_dscpPbitMap_profile' for attribute ethPortDscpProfileName could not be found on '135.249.41.30'

Solutions: 
dgdh
----------------------------------
..
Layer2-IGMP-channel 

Problem: 
Port Name,Status,Error
135.249.41.30:1-1-1-1-8,Failed,Lower layer missing: APC configure operation failed
,,"  Lower layer missing, cannot configure Stack: Layer2-IGMP-channel"
////// 

Solutions: 
Must Apply ONT service first, then Apply Service Template on ONT that recently created.
Can apply ONT by Layer0-gpon-ont template : 
	+ input Subcriber Location ID
	+ Downstream : ONT_based

UniVlan must be equal 0

----------------------
user profile : 
template super user/ role: 

+ template super user + web access  :  + (administration profile) Auto provisioning: visible
									   + (Only) Can change the templates that was applied.
									   + (Only) Can change a mapping rule the template that was applied
										( after click apply change/OK operation at mapping level->  super user cannot delete that mapping rule) 
									   + (Only) Exclude from Audit/Discover/... in template  






Adding group amssys
Creating group amssys
Adding group amssftp
Creating group amssftp
Adding group amsftp
Creating group amsftp
Creating user amssys
Creating user amssftp
Creating user amsftp
Creating replication user amsreplusr
Creating admin user amsadminusr



//Linux
http://www.freeos.com/guides/lsst/ch01sec05.html
------------------
To change the Direction: D:
------------------
build: 
http://avatar.in.alcatel-lucent.com/releases/index.php?release=9.3.10.4 
---------

server : 
RHEL7  : 192.168.92.124
Solaris 10 : 192.168.72.245 


Chrome linux
192.168.92.124:1
Lunching Chrome webrwser: 
 google-chrome






 http://tiger.in.alcatel-lucent.com:8091/browse/APC-6122
 
 
 
 
 --------------------------------------------
 DSL-LuxDSL (HSI) / template/ PTLux: use C-VLAN 
 Must create the PPP CC Engineer for C-VLAN 


--------------------------
install /cluster /sync time / 

date -s  [time]
example: date -s 10:22:42

date -s "2 OCT 2006 18:00:00"

------------------------------
DISCOVER : 
Should note the parameter in template: 





--------------------------------------------
Channel Pair Preferred/ NG-PON2: NGPON2
-- 
To create a Channel Pair Preferred: 
- Planning the Slot LT -> (FWLT-A)
 + In Channel Pair, right click -> action -> configure ->  enter value and finish. 
- At NG-PON2: Left click, in Object Details at Associated Channel Pairs (End of the view)-> Add -> choose the Channel Pair above. 
- The same step like NG-PON2 for the Chanel 


--------------------------------------
PROBLEM
Port Name,Status,Error
Detected_at_135.249.41.68:1-1-2,Failed,Generic configuration error: APC configure operation failed
,,"  Could not configure the complete configuration, did a successful rollback"
,,  Could not configure ISAM Residential Bridge VLAN Association on 1-1-2-1-1
,,  Configuration of Following Configurator Failed: Residential bridge vlan association(ETSI) ... Rollback Succeeded
,,  VLAN MGT error 277 : Attach ingress QoS profile to VLAN port refused due to missing bandwidth profile on queue.; 
-----------------------------------------------------
SOLUTION
In Network Tree (AMS GUI)
Infrastructure -> Tranimission -> Layer2 ->  Left click on the VLAN above, in QoS tab -> Broswer -> Create -> Next -> enter ONLY NAME ->  finish 

-----------------
PROBLEM: 
---------------
XDSL/ ISAM 54 
Port Name,Status,Error
ISAM02:1-1-3-1,Failed,Generic configuration error: APC configure operation failed
,,  Could not configure ISAM/ASAM XDSL ATM PTM on 1-1-3-1
,,  Configuration of Following Configurator Failed: XDSL atm ptm(ETSI) ... Rollback Succeeded
,,  Bonding Group not configured


Port Name,Status,Error
ISAM02:1-1-3-1,Failed,Generic configuration error: APC configure operation failed
,,  Could not configure ISAM/ASAM XDSL ATM PTM on 1-1-3-1
,,  Configuration of Following Configurator Failed: XDSL atm ptm(ETSI) ... Rollback Succeeded
,,  Bonding Group not configured

-------------------
SOLUTION:  
On XDSL port: create a Bonding link, then left click on Bonding Group ->  Go to -> configure Bonding Group Profile and Bonding Group RTX profile and apply. 


---------------------------------
Move service from XDSL port to another XDSL port.
When create template stack, must be include ISAM/ASAM XDSL Bonding Group and ISAM/ASAM XDSL ATM PTM.
and the ISAM/ASAM XDSL Bonding Group always in the left of the ISAM/ASAM XDSL ATM PTM.



Verify bug

[‎14/‎07/‎2016 10:48] Nguyen Thi Cam Bich: 
http://tiger.in.alcatel-lucent.com:8090/display/Conv/9.4.05+Release+Page 
em su dung build tren wiki nhe
[‎14/‎07/‎2016 10:50] Nguyen Thi Cam Bich: 
ma em qua day di
chi chi cho cai
[‎14/‎07/‎2016 10:54] Nguyen Thi Cam Bich: 
http://fastsnapshot.in.alcatel-lucent.com:8080/browse/AMS-AMS940ALL-3965/artifact/JOB1/binaries/ 
cho de lay build affected/redilever
[‎14/‎07/‎2016 10:55] Nguyen Thi Cam Bich: 
Component Version Core Build 
-------------------------------------------------- 
ams 9.4.03 - 288402 x-x
ams-ef 9.4.03ef7 - 305409 
app-apc 1.3 9.4 305267  x-x
app-idm 1.3 9.4 288119  x-x 
app-lrm 1.3 9.4 288119 xx 
app-np 1.3 9.4 288119 xx
app-oad 1.3 9.4 288119 -----
app-sdc 1.3 9.4 288119 xx
app-spfe 1.3 9.4 288119 xx
combo-isam-4.5 1.3a 9.4 305404 xx
combo-isam-5.1 1.2a 9.4 305404 xx
np-isam-4.5 1.2 9.4 288119 ---
np-isam-5.1 1.2 9.4 288119 ---
[‎14/‎07/‎2016 10:59] Nguyen Thi Cam Bich: 
cai AD_A nhe



----------------------------------
check: status AMS server 
AMSSYS_HOME=`getent passwd amssys | cut -d':' -f 6`
if [ ! -f $AMSSYS_HOME/lib/platform/bin/ams_include.sh ]; then
        echo "AMS Server is not activated"
        exit 1
else
    diff $AMSSYS_HOME/conf/ams.conf `dirname $0`/../conf/ams.conf > /dev/null 2>&1
    if [ $? -ne 0 ]; then
        echo "ERROR: Another AMS version is already activated" >&2
        exit 1
    fi
        export AMSSYS_HOME
fi
        . $AMSSYS_HOME/lib/platform/bin/ams_include.sh



-----------------------------------------------------------------------------
Problem: Create a Cross Connect VLAN
VLAN MGT error :  The outer S-VLAN should be RB or Layer 2-terminated mode in S+C RB 

Solution: 
First:  Create a S-VLAN number a with mode : Residential Bridge 

---------- 
Create a VLAN association : 
Problem: VLAN MGT error 537: Tag control should be single tagged on this port:  
Solution: Shut down the PC and go home :D 
------ 
NG-PON2






Problem:

Port Name,Status,Error
135.249.41.19:1-1-2-1,Failed,Generic configuration error: APC configure operation failed
,,  Could not configure ISAM Gigabit Ethernet Access on 1-1-2-1
,,  Configuration of Following Configurator Failed: Gigabit Ethernet Access(ETSI) ... Rollback Succeeded
,,  Could not translate 100BaseBX10D into an OID.


Solution: 

On object of Ethernet LT > MAU Parameters > MAU type > choose 1000BaseLX10 
On ISAM Gigabit Ethernet Access template >  set MAU type = THOUSAND_BaseLX10




----------------
NPOT/ SIP/ DTAG

[‎26/‎07/‎2016 11:07] Tran Thi My Thi: 
em biet xai con NE nao co card NPOT de configure SIP service cho DTAG kn ?
[‎26/‎07/‎2016 11:08] Tran Tuan Anh: 
dạ chưa chị 
:D 
để em tìm thử 
[‎26/‎07/‎2016 11:09] Tran Thi My Thi: 
NE co subrack : NFSX-A/B
[‎26/‎07/‎2016 11:10] Tran Tuan Anh: 
dạ 
[‎26/‎07/‎2016 11:10] Tran Thi My Thi: 
NT board: NANT-A/D/E


---------------------------------
Wiki for DTAG 
http://tiger.in.alcatel-lucent.com:8090/display/Conv/All+about+DTAG
------------------------------------

NOTE: 
set Java Home
readlink -f $(which java)
vi ~/.bash_profile

eg
JAVA_HOME=/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.71.x86_64/jre/bin/java
export JAVA_HOME=/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.71.x86_64







[root@server95151 DTAG-SIP-repair-tool-1.0]# echo $JAVA_HOME
/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.71.x86_64
[root@server95151 DTAG-SIP-repair-tool-1.0]# /bin/bash ./run.sh
JAVA_HOME variable is not set. Set the JAVA_HOME and rerun the script.
[root@server95151 DTAG-SIP-repair-tool-1.0]# vi run.sh

#!/usr/bin/ksh

if [ ! -z "$JAVA_HOME" ]
then
  echo "JAVA_HOME variable is not set. Set the JAVA_HOME and rerun the script.";
  exit
fi

VIEWER_HOME=.

JAVA=/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.71.x86_64/bin/java
NAME_PREFIX=$7
CUR_DIR=`pwd`

CLASSPATH=$CLASSPATH:$VIEWER_HOME/lib/DTAG-SIP-repair-tool-1.0.jar
CLASSPATH=$CLASSPATH:$VIEWER_HOME/lib/mariadb-java-client-1.1.8.jar
CLASSPATH=$CLASSPATH:$VIEWER_HOME/lib/log4j-1.2.15.jar

$JAVA $JAVA_OPTS -cp $CLASSPATH com.alcatel.apc.tools.RepairTool $*

"run.sh" 19L, 504C written
[root@server95151 DTAG-SIP-repair-tool-1.0]# /bin/bash ./run.sh
[07-26-2016@15:29:06] Usage: DbRepairTool <apcServer> <apcDbPort> <apcDbName> <apcDbUser> <apcDbPassword>
[root@server95151 DTAG-SIP-repair-tool-1.0]# /bin/bash ./run.sh 192.168.95.151 3307 emlplatform root mysql
Do you really want to continue with the repair? (yes/no)
yes
[07-26-2016@15:29:35] Executing Repair tool ...
[07-26-2016@15:29:35] Total number of basic SIP templates: 5
[07-26-2016@15:29:35] DB repaired successfully
[root@server95151 DTAG-SIP-repair-tool-1.0]# 




Apply. 

7360_SIP template. 
+ Create  S-VLAN and C-VLAN
+ Create bandwidth profile : 2SIP
+ Set Planned software :  false 
StrictPriority' for attribute voipUniQosProfiles_ShaperProfileDsQueue5 could not be found on '135.249.41.26'

 




 -----------------------------
 
 Auto provisionning / New ONT alarm / New ONT discovered.
 
 Please check out new iNES Release 5.58 snapshot2 at 
 For Solaris: 
http://tiger.in.alcatel-lucent.com/svn/axs/tools/branches/ines/iNES/RELEASES/iNES_SNAPSHOT/iNES.5.58.x86.snapshot2.tar.gz 

 For Redhat: 
http://tiger.in.alcatel-lucent.com/svn/axs/tools/branches/ines/iNES/RELEASES/iNES_SNAPSHOT/iNES.5.58.redhat_lnx.snapshot2.tar.gz 

 To raise alarm for NGPON2 ONT, you run script CreateNewOnt as below: 
 ./CreateNewOnt -h 
 CreateNewOnt Usage (iNES V3 Version 5.58/7Jan15 for Linux on PC-x86 
 ): 
   -i ip_address: IP address of the iNES 
   -a <newont_aid>/<num> : NEWONT AID (e.g.: NEWONT-1-1-1-1-1 or NEWONT-1-1-1-1-1/64 or NEWONT-1-1-1-1-5/32 
   -a <newont_aid>/<num> : NEWNG2 AID[only ISAM] (e.g.: NEWNG2-1-1-1-1-1 or NEWNG2-1-1-1-1-1/64 or NEWNG2-1-1-1-1-5/32 
   -o <operation: CREATE=1,DELETE=0> : CREATE or DELETE 
   -s <serial number>: The value of serial number begin with: ALCL. Ex: ALCLF3B87609 
   -h : display this help message 
 Ex: ./CreateNewOnt -i 50.50.51.15 -a NEWNG2-1-1-8-1-1 -o 1 -s ALCL000000A3 
 
 
 
 ./CreateNewOnt -i 13.1.1.10 -a NEWONT-1-1-6-2-1 -o 1 -s ALCL000000A3 
 



INES IP
 
 55.55.55.217	igb1:217

 





 INES 
 /auto/iNES_Release/5.68_9/build_lnx 
192.168.72.251 
cd /auto/iNES_Release/5.68_9/build_lnx
export LD_LIBRARY_PATH=/auto/iNES_Release/5.68_9/build_lnx/mysql32bit/lib:/auto/iNES_Release/5.68_9/build_lnx/

export MIBFILE=/auto/walkfile/ltinhuy/vlan/TOTAL_MIB.txt
./iNESd -i 1 -s 13.1.1.10 -t FTTN -f /auto/walkfile/ltinhuy/vlan/iacm.raw &

export MIBFILE=/auto/walkfile/ltinhuy/vlan/ihub_TOTAL_MIB.txt 
./iNESd -i 1 -s 13.1.1.10 -t IHUB -f /auto/walkfile/ltinhuy/vlan/ihub.raw &


------------




Lower layer missing, cannot configure Stack: apply ko dung vi tri port hay ONT gi do
------------
ATT and Verizon: enable all setting apc
note: custom ont -> if enable -> save object in Ne -> if not-> delete all despite NE

-----------------------------------------------------------
Video stack: GMDU and GSFU(Gpon)   (ATT??) (7342_36M_5M_SFU...)
-clean (delete object on Ne -> missing Ne ->audit , un,reconfig
-reapply service  
------------------------------------------------
  Bell Gpon:
  Bell GPON

When apply service template Bell GPON is error "The value 'ClientON_092010,1' for attribute ftp_ClientConfig_SipClientProfile could not be found on '5520 AMS EML PROVIDER"

create SIP profile. on AMS GUI  in window=> showview=>sip profile
note: khi tao SIP Client Profile, o tag protocol=>Registras URI go "sip:"
Registrar Route:0.0.0.0
Outbound Proxy:0.0.0.0

with new lt vlan-> modify cvlan and lt -vlan to be different with the others.

**
Isam (FTTN FG 4.4) Bell ISAM (disable all??? or just ont override) (41.145...)
 note: FX 7360 -> ATT (maybe 7320,7330)
 3 layer:l1,l2,l3
 -install on card EVLT-N -> 2 mode: ATM and PTM 
 ATM:
 PTM:
 -define of virtual agument
 -layer1: xdsl
 -layer2: vlan cross connect
 -layer3: igmp ( only following 1 mode)
 
 To provision L2 -> creat Vlan (Svlan -> L2 terminated)
 vpi 8-35  (vpi=0 duoc)
 
 flow:
 -dbclean
 -get configure template -> find needing agument
 -import tp changed (modifiable and unmodifiable)
 -audit -> missaligned
 -reapply -> force -> check log -> un and re.
 get
 ----------------------------------------------------
 VZ data and video ( enable all) -> 10M10M (gpon)
 
 -change modifiable
 -audit -> missaligned
 -reapply -> modify only
 -log -> check apc db write to misaligned modifiable 
 
 --------------------------------------------------------
 G6-Gpon link (bind template) G6: 41.98    (2potgr303)  (voice h248 service)
  the same as ISAM FX(46.210) -G6( card FANT-F)
  Gpon ( voice Ip (object) -> pot port need voice Ip)
 -make link
 -make link
 -CRV and ID ( see on G6 -> compare and determine)
 -unlock suspend first
 -get configured TP
 -db clean
 -audit
 -import
 -reapply
 
 ------------------------------------------------------------
 NBCo: Isam 7302 (Isam Ihub) (5.1 or 5.3) (41.52 or 41.100)
 FTTN(7320)  ( turn off all setting in apc)
 -NGLTA(this kind of card has pon port) -> pon port-> apply NTD -> (subcribe local id : just 6 number) ( 7302 use NTLTA)
  +ONT card 1(ethenet) 
  + 2(pot)
  + 14 (veip)
-card 1 -> apply UNID -> TC4 up down #0 -> if error , adding more profile ( error of lack profile) ( tail drop of gpon)
  .On UNI-> apply AVCD ( creat Vlan first) -> modify : access loop identification and priority tagged ( interface mode) -> to prority put value to vlan ( error of not filling)
    ( find profile -> see mapping on APC web) (error of enum......
  . On vlan asscociation -> igmp->make Cvlan (muticast) -> muticast control :ip4 -> fill cvlan in tp ( error of not filling cvlan in tp)
-card 2: ethernet ONT card 2 -> apply UNIV -> AVCID :1 and VEIP:1
-Card 14:AVCV-> creat CVLAN ( residential bridge) and modify Q0s #defaut ( error of banwith QoS=default ....)  

-------------------------------
VZ voice sip service: 2sip_fttn
VZ voice h248       : 2POTS_GR303c
ATT Data&Service    : GMDU
ATT Voice 248       : GMDU_POT and GMDU_POT_08  
GMDU_POT_08: nho khac line ,cpe. Note ve group TR08    
------------------------------------

KPN
ISAM FTTN R5.3 -> 7330
on card NELT-B -> ethenet

GEA -> Qos-> Bridge -> missiung port -> out apply window -> fill 0.0 -> Mac 6
under LAG Bridge -> apply Vlan_CTP template -> port CVlan id = CVlan created ( creat 2 clan , ex: c5,c6)) -> apply 2 vlan_ctp

Vlan association1 --> aply ppp_client--> error :could not find ppp cc engine with svlan,clan....
 -way 1: ppp cross connecttion engine-> map to 6 for vlan (enable Mac Adrress concentraion) ( map by hand)
 -way 2: on ehtenet port -> apply ppp engine ( map automation)
vlan association2-> apply IGMP  


Bind template
enable spfenoshow 
Create: 
 SNMP profile: G6 -> public/private
Create Line profile: 
Name : H248
DS1: ALaw
profile: RTP
Signal: RTP
Payload: 8
DTMF: Disable


Hi c.Thi, 

Qua thời gian làm việc tại TMA với vị trí QA, một công việc thú vị và có nhiều cơ hội để phát triển, nhất là trong những dự án lớn và môi trường làm việc chuyên nghiệp như AxS. Em đã học hỏi được rất nhiều điều, không chỉ kiến thức về kĩ thuật mà còn nhiều kĩ năng khác từ công việc và từ những anh chị trong team. Bản thân em cũng đã cố gắng thích nghi và bắt kịp với nhịp với tiến độ của công việc nhưng thực sự em cảm thấy mình vẫn không thực sự hợp với nghề này chị ạ. Em cảm ơn mọi người thời gian qua đã giúp đỡ và chỉ bảo em rất nhiều. Qua Run 1 này , chị có thể cho em xin nghỉ được k ạ. 

Thanks,
Tuan Anh 



Dear HR, 

Trước tiên, tôi muốn gửi lời cảm ơn đến chị Thi, khi đã chấp nhận tôi là thành viên của dự án, cũng như là một thành viên của đại gia đình TMA.
Tôi tên là Trần Tuấn Anh, Badge ID: 164723.
Hiện tại đang làm việc tại Lab 3, dự án AxS QA - DC9 - DG4. Với vị trí QA Engineer, một công việc thú vị và có nhiều cơ hội để phát triển, nhất là trong những dự án lớn và môi trường làm việc chuyên nghiệp như TMA. Bản thân cũng đã học được rất nhiều điều, không chỉ kiến thức về kĩ thuật mà còn nhiều kĩ năng khác từ công việc và anh chị trong team. Tuy vậy tính chất công việc vẫn không thực sự phù hợp với mong muốn của bản thân, nên tôi viết đơn này để thông báo xin nghỉ việc. Như đã bàn bạc và được sự cho phép của Project Manager, chị Trần Thị Mỹ Thi, tôi sẽ làm việc cùng với team tới hết ngày 17/10/2016, nhằm giải quyết một số vấn đề liên quan đến dự án và chuyển giao công việc cho các thành viên khác. Mong HR tạo điều kiện, giúp đỡ tôi hoàn thành các thủ tục cần thiết, theo đúng quy định của hợp đồng, cũng như hổ trợ giải quyết những vấn đề phát sinh để tôi có thể chính thức nghỉ vào ngày 17/10/2016. Xin chân thành cảm ơn. 

Thân,
Tuấn Anh 


“Em/Tôi viết đơn này để thông báo xin nghỉ việc. Ngày cuối cùng làm việc của em/tôi tại Quý công ty sẽ là…” .
Em/Tôi đã học hỏi được rất nhiều kinh nghiệm trong công việc biên tập viên tại Quý công ty. Chắc rằng, những kỹ năng bổ ích này sẽ theo em/tôi trong sự nghiệp của mình”.


Thời gian gắn bó cùng Quý công ty, em/tôi đã cố gắng hết sức mình để đảm bảo công việc luôn được hoàn thành trôi chảy. Em/Tôi mong anh/chị chấp nhận lá đơn xin thôi việc này. Em/Tôi đã may mắn trở thành một phần của Quý công ty ta. Chúc cho Quý công ty luôn phát triển mạnh mẽ”. 



Bản thân em cũng đã cố gắng thích nghi và bắt kịp với nhịp với tiến độ của công việc nhưng thực sự em cảm thấy mình vẫn không thực sự hợp với nghề này chị ạ. Em cảm ơn mọi người thời gian qua đã giúp đỡ và chỉ bảo em rất nhiều. Qua Run 1 này , chị có thể cho em xin nghỉ được k ạ. 










Raise bug =))) 

Initial state:

2.1. Bring up AMS cluster A-A-D-D server with Enable setting. 
2.2. A GPON 4.10 NE is created and provisioned
2.3 Create a G7342 MDU Ethernet Port/G7342 Bridge Port/G7342 HSI Service template stack and a G7342 MDU POTS Port  template. 

Sequence: 

3.1. On GPON NE, create a ONT/ONT Card (planned cardType = Ethernet POTS Combo) with a ethernet port and a pots port. 
3.2. Apply MDU POTS Port service on pots port above. Apply some shared HSI serivces on Ethernet Port above.  -> OK 
3.3. Execute NBI clean request message with address extension, that is provided objectType = EthernetPort. Verify that Ethernet Port service is cleaned completely, POTS Port services is not effected. -> NOK 
Result: 
- POTS services is not effected -> OK 
- Ethernet services is only cleaned on NE -> NOK 
It make Ethernet service is Miss in NE 








http://sinhvienit.net/forum/hcm-tuyen-dung-android-developer.458457.html


https://docs.google.com/forms/d/e/1FAIpQLSdrkUXly3EJ9-lnZdeM8c7T9KrNU4QS0qtYOoZ7pTBKurvaEg/viewform?c=0&w=1





Short description about your mobile development skill (iOS or Android): 

In the moment, I am learning Java core and very interesting with Mobile development, starting as zero point. 
But I think with my ability and determination, that is not a big problem. 


Why should we offer this position to you instead of the people outside? *

Everyone person have their own strengths, for me:
I realized become the developer is not only my passion also trully goal, career path for me from now and in the future.
develope my technical and soft s more things 
responsible person for 



excited

I have excellent references and would be delighted to discuss any possible vacancy with you at your convenience.
In case you do not have any suitable openings at the moment, I would be grateful if you would keep my CV on file for any future possibilities.
I would like to express my interest in a position as editorial assistant for your publishing company. As a recent graduate with writing, editing, and administrative experience, I believe I am a strong candidate for a position at the 123 Publishing Company.




Although I am a recent college graduate, my maturity, practical experience, and eagerness to enter the publishing business will make me an excellent editorial assistant. I would love to begin my career with your company, and am confident that I would be a beneficial addition to the 123 Publishing Company.

I have enclosed my resume, and will call within the next week to see if we might arrange a time to speak together. Thank you so much for your time and consideration.







Monitoring snapshot
/var/opt/ams/local/ams-9.6.00-331412/jboss/tmpdir/apc/8080/apc-northbound/-1919391697


* BAC Type : Buffer Acceptance Algorithm, Queue profile




-------
Indian name: 

I see that many of us still sound the middle “h” in Indian name (e.g. Sathish –  “Sa-thís”, Rahul – “Ra-hun”, Vidhya – “Vít-ha”). Actually, we need to ignore such “h”, so the names in my example are sounded like “Sa-tís”, “Ra-un”, “Vi-đi-a”.


Hello,

I just found this channel: https://www.youtube.com/user/numberphile

It has tons of interesting videos such as:
•	Perfect Shapes in Higher Dimensions
•	5040 and other Anti-Prime Numbers
•	Glitch Primes and Cyclops Numbers
•	and more...



Vừa qua HSBC có tới TMA để mời làm thẻ. Họ nói nhiều về lợi ích nhưng không hề giải thích rõ cách tính lãi suất khi trả chậm. Nhiều người không để ý nên bị tính lãi cắt cổ mà không biết.

Quy định như sau: Nếu mình xài tháng nào trả hết tháng đó thì không có vấn đề gì, không bị tính lãi. Nhưng nếu mình nợ lại dù chỉ 1 đồng thì sẽ bị xếp vô nhóm “con nợ” và số tiền nợ cộng với số tiền của tất cả giao dịch phát sinh sau đó đều bị tính lãi (khoảng 2.5 %/tháng tùy hạng thẻ, là khoảng 30 %/năm, một con số rất cao nếu so với lãi cho vay bình thường hiện nay là khoảng 10%).

Lưu ý, khi mình là “con nợ” thì tất cả giao dịch phát sinh đều bị tính lãi ngay lập tức mà không phải chờ 30 ngày hay 45 ngày gì đó như quảng cáo. Chỗ này họ không (dám) nói rõ, vì nếu nói ra thì chắc rất ít người dám dùng thẻ. Đó là chưa kể một số ngân hàng có cách chốt sổ bí hiểm làm cho khách hàng rất khó trả hết nợ trong tháng nếu xài thẻ hàng ngày.

Thẻ tín dụng vẫn có ích nhưng chỉ nên dùng khi thực sự cần thiết và số tiền không lớn. Tuy nhiên nếu xài ít thì phí thường niên sẽ khá lớn so với số tiền mình xài qua thẻ, như vậy thì không đáng để xài. Tóm lại là phải hiểu thật rõ quy định trước khi tham gia.





1 474 394 562 907
     /* 
                 * APC-22358 
                 * - When creating new user, session password will be null => Should check password format 
                 * - When modifying the existing user, the session password is not null:  
                 *      + If the session password is not equal the input password => Password got changed and should be checked its format 
                 *      + If the session password is equal the input password => Password is not changed, checking password format will be ignored   
                 */ 
                String sessionPassword = getSessionValue(parent, context); 
                if (sessionPassword == null || !sessionPassword.equals(password)){ 
                    if(!checkPassword(password)){ 
                        result.addErrorMessage(this, new Message(UserMgntResources.USER_PASSWORD_CHECK_FAILED)); 
                        return null; 





NOTE: 
(1) If return value is zero (0), command is successful.
(2) If return value is nonzero, command is not successful or some sort of error executing command/shell script.



SYSTEM VARIABLE						|	MEANING
--------------------------------------------------------------------------
BASH=/bin/bash						|	Our shell name
BASH_VERSION=1.14.7(1)				|	Our shell version name
COLUMNS=80							|	No. of columns for our screen
HOME=/home/vivek					|	Our home directory
LINES=25							|	No. of columns for our screen
LOGNAME=students					|	students Our logging name
OSTYPE=Linux						|	Our Os type
PATH=/usr/bin:/sbin:/bin:/usr/sbin	|	Our path settings
PS1=[\u@\h \W]\$					|	Our prompt settings
PWD=/home/students/Common			|	Our current working directory
SHELL=/bin/bash						|	Our shell name
USERNAME=vivek						|	User name who is currently login to this PC


USE ECHO COMMAND TO DISPLAY TEXT OR VALUE OF VARIABLE.

echo [options] [string, variables...]
Displays text or variables value on screen.
Options
-n Do not output the trailing new line.
-e Enable interpretation of the following backslash escaped characters in the strings:
\a alert (bell)
\b backspace
\c suppress trailing new line
\n new line
\r carriage return
\t horizontal tab
\\ backslash

English: 

point "down the road" = in the future 
"Down the road, I'd like to study art or music" 
discrepancies : sự khác biệt.

instantaneous : tuc thi`.
 
compare ... against ...

Protect: bao ve
Protests : bieu tnh 

intricate : lon xon 
recognizable : nhan biet
accomplish: thanh tuu  
accompany:  kem, hop suc
to adopt : ap dung  
exhaustive  = full, day du 

They serve as a workable references and starting points for futher investigation. 
furnished : trang bi 
ingredients: thanh phan
condiments: gia vi 
metaphorically: an du 
backed by: dc ho tro boi 
accommodate: chua , consist of 
comprehending : thau hieu 

comprehending
instills 
Irrational: vo lý 

manipulated
Vulnerable : de ton thuong
anxiety  : su lo ngai 
susceptible : nhay cam 


---------------------------------


KPN password: 123456789a@A








Last message:  
-------------------------------------------------------
[‎14/‎10/‎2016 10:22] Tran Tuan Anh: 
Hi mọi người, chiều nay em mời mọi người bún bò nhé  :) 
[‎14/‎10/‎2016 10:22] Le Hoai Nam: 
:D    
[‎14/‎10/‎2016 10:22] Danh Nguyen Thanh: 
8-|
[‎14/‎10/‎2016 10:23] Le Hoai Nam: 
oski luon   :)
[‎14/‎10/‎2016 10:23] Tran Tuan Anh: 
Cảm ơn anh chị thời gian qua đã giúp đỡ em rất nhiều 
[‎14/‎10/‎2016 10:23] Phan Van Tho Anh: 
Tuyet voi :]
[‎14/‎10/‎2016 10:23] Tran Tuan Anh: 
chúc mọi người sẽ tiếp tục thành công hơn nữa 
:D 
[‎14/‎10/‎2016 10:23] Huynh Thanh Nha: 
(y)
[‎14/‎10/‎2016 10:23] Le Hoai Nam: 
(bartlett)(bartlett)(bartlett)  -->  anh Tho ANh   
[‎14/‎10/‎2016 10:23] Tran Thi My Thi: 
ok :) mai nho di picnic nhe' + da banh cho QA
QA dang thieu nguoi :D
[‎14/‎10/‎2016 10:23] Le Hoai Nam: 
Tuan ANh ko di  la`  Bich buon luon   
[‎14/‎10/‎2016 10:24] Tran Thi My Thi: 
de cho Nam da' thi thoi chuuu
[‎14/‎10/‎2016 10:24] Le Hoai Nam: 
:D
[‎14/‎10/‎2016 10:24] Tran Thi My Thi: 
Nam chi co di thi van nghe thui :P
[‎14/‎10/‎2016 10:24] Tran Tuan Anh: 
:D:D:D
[‎14/‎10/‎2016 10:24] Le Hoai Nam: 
nam nay gia`   roi chi,  nen nhuong cho lop tre   :3
8-|
[‎14/‎10/‎2016 10:24] Tran Thi My Thi: 
gion chut thoi, ba` con dung gian :D
[‎14/‎10/‎2016 10:25] Tran Tuan Anh: 
bé chuẩn bị vào dễ thương lắm anh Nam  :D 
[‎14/‎10/‎2016 10:25] Tran Thi My Thi: 
ah hom wa TAnh thay ne`
[‎14/‎10/‎2016 10:25] Nguyen Thi Cam Bich: 
hợp tuổi nữa Nam
[‎14/‎10/‎2016 10:25] Tran Tuan Anh: 
huynh đệ tương tàn (rofl)(rofl)
[‎14/‎10/‎2016 10:25] Le Hoai Nam: 
:]:]:]:]<3<3<3<3
[‎14/‎10/‎2016 10:25] Nguyen Thi Cam Bich: 
tới ngay và luôn đi
[‎14/‎10/‎2016 10:25] Tran Tuan Anh: 
thấy ai cũng hợp tuổi 
[‎14/‎10/‎2016 10:26] Danh Nguyen Thanh: 
chắc đi chuyển giới quá
[‎14/‎10/‎2016 10:26] Le Hoai Nam: 
hop thiet ma`,   ha ha   
[‎14/‎10/‎2016 10:26] Tran Thi My Thi: 
vay jo may ban chua co ghe cho biet can tuoi nao hop
[‎14/‎10/‎2016 10:26] Phan Van Tho Anh: 
Canh tranh con gbang nha :D
[‎14/‎10/‎2016 10:26] Danh Nguyen Thanh: 
a Thơ Anh bị ra rìa
hahahaha
[‎14/‎10/‎2016 10:26] Tran Thi My Thi: 
de c post len yeu can tuoi do' hop tuoi voi cac ban trong team la 1 tieu chi de pass pv 
==))))
[‎14/‎10/‎2016 10:27] Huynh Thanh Nha: 
A Tho Anh het co hoi roi
[‎14/‎10/‎2016 10:27] Phan Van Tho Anh: 
:)
[‎14/‎10/‎2016 10:27] Huynh Thanh Nha: 
:D
[‎14/‎10/‎2016 10:27] Phan Van Tho Anh: 
Lem phen vo chem chet :D
[‎14/‎10/‎2016 10:27] Le Hoai Nam: 
@@
[‎14/‎10/‎2016 10:27] Tran Thi My Thi: 
Nam nay lanh chanh wa' nha
[‎14/‎10/‎2016 10:27] Le Hoai Nam: 
:D
[‎14/‎10/‎2016 10:28] Tran Thi My Thi: 
hom wa c thay cai list em cho di picnic cung da`i lam a'
coi chung em bi che;m truoc do'
[‎14/‎10/‎2016 10:28] Le Hoai Nam: 
em  dang kiem vk  tuong lai chi oi   :D
ha ha
ko biet gio nay`,  em ay  o noi dau   
B-)
[‎14/‎10/‎2016 10:29] Phan Van Tho Anh: 
im here :D
[‎14/‎10/‎2016 10:29] Le Hoai Nam: 
:D
[‎14/‎10/‎2016 10:29] Tran Tuan Anh: 
@@ 
em sắp vào rồi đó anh Nam  
:D 
[‎14/‎10/‎2016 10:29] Le Hoai Nam: 
hope that   
:D
[‎14/‎10/‎2016 10:29] Nguyen Vinh Hung: 
chị Thi sắp xếp cho em mentor em nó một buổi nha
[‎14/‎10/‎2016 10:30] Le Hoai Nam: 
:D 
[‎14/‎10/‎2016 10:30] Nguyen Vinh Hung: 
hôm qua được diện kiến dung  nhan rồi
[‎14/‎10/‎2016 10:30] Huynh Thanh Nha: 
A Hung nhanh that
[‎14/‎10/‎2016 10:30] Le Hoai Nam: 
the thi` anh em minh`  phai huy de tuong tan`  thoi   :D
anh Hung` nhi   :D
[‎14/‎10/‎2016 10:30] Huynh Thanh Nha: 
*|*|*|*|*|*|
[‎14/‎10/‎2016 10:30] Nguyen Vinh Hung: 
thôi Nam
anh nhường cho đó
[‎14/‎10/‎2016 10:31] Le Hoai Nam: 
:D
[‎14/‎10/‎2016 10:31] Nguyen Vinh Hung: 
chỉ là check trước cho em xem có an toàn không thôi
[‎14/‎10/‎2016 10:31] Le Hoai Nam: 
ha ha
[‎14/‎10/‎2016 10:31] Tran Tuan Anh: 
làm gì mà an toàn anh (:|(:|
[‎14/‎10/‎2016 10:32] Nguyen Vinh Hung: 
sợ vào bắt Nam làm này làm kia
[‎14/‎10/‎2016 10:32] Le Hoai Nam: 
:D
[‎14/‎10/‎2016 10:33] Tran Thi My Thi: 
ma thong bao la cung kn co de chiu lam dau do'
[‎14/‎10/‎2016 10:33] Le Hoai Nam: 
:D
[‎14/‎10/‎2016 10:33] Tran Thi My Thi: 
duong con da`i, con lam chong gai
[‎14/‎10/‎2016 10:33] Le Hoai Nam: 
:D
[‎14/‎10/‎2016 10:33] Danh Nguyen Thanh: 
e có ý kiến
c Thi mai mốt interview
nam 
tuổi hơn 1990 nha
=]]
[‎14/‎10/‎2016 10:34] Tran Thi My Thi: 
tuc la 1991/2 ha ?
[‎14/‎10/‎2016 10:34] Le Hoai Nam: 
y'  la`   phai lon tuoi hon Bich  dung ko   
:D
[‎14/‎10/‎2016 10:34] Danh Nguyen Thanh: 
=]]]]
[‎14/‎10/‎2016 10:34] Le Hoai Nam: 
cho Bich mot co hoi  
[‎14/‎10/‎2016 10:34] Tran Thi My Thi: 
ah hieu
[‎14/‎10/‎2016 10:34] Le Hoai Nam: 
:o3:o3:o3
[‎14/‎10/‎2016 10:34] Tran Thi My Thi: 
sang nay co 1 anh 87
CV kha' dep
ma sao jo nay kn thay den
chac go luon roi
[‎14/‎10/‎2016 10:35] Danh Nguyen Thanh: 
:(
[‎14/‎10/‎2016 10:35] Le Hoai Nam: 
poor Bich    :D
[‎14/‎10/‎2016 10:35] Nguyen Vinh Hung: 
quan trọng là đẹp trai chị ơi
[‎14/‎10/‎2016 10:35] Tran Thi My Thi: 
sang sua lam
[‎14/‎10/‎2016 10:35] Nguyen Vinh Hung: 
tuổi với Bích không quan trọng
[‎14/‎10/‎2016 10:35] Tran Thi My Thi: 
co thay hinh tren CV ma
[‎14/‎10/‎2016 10:37] Huynh Thanh Nha: 
dep trai ko bang chai mat
[‎14/‎10/‎2016 10:38] Tran Thi My Thi: 
di`m han`g Bich wa nha, mai chieu Bich phat thip la chay kn kip dau do'
de c nho ox :D
[‎14/‎10/‎2016 10:38] Huynh Thanh Nha: 
:D:D
[‎14/‎10/‎2016 10:39] Nguyen Thi Cam Bich: 
tại mọi người ganh tỵ với sự dễ thương của em
[‎14/‎10/‎2016 10:39] Le Hoai Nam: 
giay chung nhan dau Bich  
[‎14/‎10/‎2016 10:39] Nguyen Thi Cam Bich: 
em hok thích người nhỏ tuổi hơn em đâu chị
[‎14/‎10/‎2016 10:39] Le Hoai Nam: 
:)
[‎14/‎10/‎2016 10:39] Nguyen Thi Cam Bich: 
87, 88 là ok đó chị
keke
[‎14/‎10/‎2016 10:39] Tran Thi My Thi: 
okiiii

------------------------------------------------


SĐT:  
Chị Thi : 0907575207
Anh Tho Anh: 0918296160
Anh Nhã: 01672442648
Anh Nam: 0989283095
Chị Bích: 0973354917
Chị Đậm: 01674622107
Anh Hùng: 0969372264
Anh Huy: 0933983394



==================================================================================================================================================
CODE NOTE - TIPS
------------------------------
check file different: 
http://diffchecker.com/ 













JAVA Note
==============================
Java OOP Note: 
Advance topics: 
+ Abtract classes: 
+ @Override
+ Interface:
	+ Often use for design, like contract. 
	+ It's like a pattern. 
Create :  use interface key.
Using : implements key.





OOPs in Java is a paradigm that provides many concepts such as inheritance, data binding, polymorphism
+ OOPs (Object-orented Programming): Object means a real world entity such as table, animal...
OOP is a method or paradigm to design a software using classes and objects. It simplifies the software
development and maintance by providing some concepts: 
+ objects: state and behavior 
+ class : collection of objects
+ inheritance: the child objects acquires all properties of parent objects
+ polymorphism: method overloading and method overriding. 
	+ overloading: create more methods same name but set different about number of arguments or type of arguments.
	+ overriding :
	




+ abstraction:  abstract class and interface, hidding the detail and showing the functionally.
+ encapsulation: binding (wrap) data and code together into a unit. 


---------------
Constructor: 
- Some roles
 + name must same its class
 + no explicit return
 + no constructor was created, compiler will be created a default constructor.
- Type of Constructor: 
		+ Default constructor (no-arg) :<class_name>(){}   
		+ Parameterized constructor 
- static block. be executed after main() : static {System.out.print("print will be executed first");}



Java core -> Java Form -> java web -> Jsp servlet -> Struts, Hibanate. 






+ CLASSPATH
+ Packages
+ JavaDoc detail 
+ Visiblity other than public or private 

"these classes should look like that, and they have that in common, so fill in the blanks!".

Consider using abstract classes if :
    You want to share code among several closely related classes.
    You expect that classes that extend your abstract class have many common methods or fields, or require access modifiers other than public (such as protected and private).
    You want to declare non-static or non-final fields.

Consider using interfaces if:

    You expect that unrelated classes would implement your interface. For example,many unrelated objects can implement Serializable interface.
    You want to specify the behaviour of a particular data type, but not concerned about who implements its behaviour.
    You want to take advantage of multiple inheritance of type.

	Interface2{
	method4;
	method3;
	}
	
	Interface{
	method1()
	method5()
	}
	Abstract class implements Interface, Interface2{
	method1(){
	xxx
	method2();
	}	
	abstract method2 ;
	subclass entends Abstract{
	defined the method2;
		}
	
	Interface xxx = new subclass
	xxx.can use method1  by xxx.method1;
	
	
	
The 13 core technologies that make up Java EE are:

   1  JDBC
   2  JNDI
   3  EJBs
   4  RMI
   5  JSP
   6  Java servlets
   7  XML
   8  JMS
   9  Java IDL
   10 JTS
   11 JTA
   12 JavaMail
   13 JAF
   
   
   
      Learn OOP. Learn Unit testing. Learn GoF design patterns.
    Learn HTTP. Learn session management in HTTP.
    Learn servlets. Learn JSP. Learn how to manage sessions in Java with JSession.
    Learn how to make the presentation in JSP and how to handle the user actions with servlets, then go back to another JSP to show the results.
    Learn the true nature of J2EE: Presentation using JSP. Using servlets just to invoke EJBs.
    EJBs: What is it so good about them? EJBs don't seem necessary, but they provide several things:
    Session EJBs. Stateless and stateful. Only the stateless session beans worked right. Provide transactions to the EJBs.
    Entity EJBs, providing persistence and failed miserably, eventually were replaced by JPA.
    MDBs to read JMS queues. JMS queues can be point to point or use topics to  manage to tell everyone reading that queue.
    Now JSP has been replaced by JSF.
	
	
	
	--------------
	
	synchronized : For Multi-Threads programming.
	

	APC_9.6_APCREQ-791-Handle-Port-Address-Duplication 
	
	
VBA Note
========================
+ Trim ("Hello   word    ") = "Hello word" 

+ Dim availableName As availableType
"Dim collumIndex As Integer" 
+ <> mean not equals:  if x <> 5 then .... 
+ Work Sheet
Set oWorkSheet = ThisWorkbook.Worksheets(1)

Range() and Cells : http://www.excel-easy.com/vba/range-object.html

	
' Example 1. Find the text "st" within the string "Test string", starting from position 1.
Dim pos As Integer
pos = InStr( "Test string", "st" )
' pos now has the value 3.	
	
	
	
	
	
	
Shell script: 
========================

* basename and dirname: 
+ basename(/the/path/foo.txt) = foo
	basename(bar.txt) = bar
	basename(/) = ""
	basename(*) = *	
 Often these machinations are necessary perform on lists of filenames and paths. There are many specialized programs that are conventionally included with Unix to perform these sorts of utility functions: tr, cut, paste, and join. Given a filename like /home/myplace/a.data.directory/a.filename.txt which we'll call $f you could use commands like:

    	dirname $f 
    	basename $f 
    	basename $f .txt
    	

... to see output like:


    	/home/myplace/a.data.directory
    	a.filename.txt
    	a.filename 
  >> dev/null redirects standard output to dev/null, which discard it. 
 ">>" mean append 
 ">" mean truncate and write
 2>&1 : mean (2) standard error to (1) standard output

	
	
	
	
	
> dev/null 2>&1 mean standard output ->  dev/null and standard error will be sent to standard output.
2 > dev/null 1>&2 mean standard error -> dev/null and standard output will be sent to standard error. 
	
	
* Send the data to Firebase server
1. Create a connection to Firebase server : mFirebaseRef = new Firebase("https://popping-heat-8239.firebaseio.com/"); 
2. get Text edit -> hashmap value Map<String,Object> values = new HashMap<>();
3. put value to Map :   values.put("name", "Android User");
						values.put("text", text);
4. Send Map value to Firebase server: mFirebaseRef.push().setValue(values); 
---- 


Android: connect to the Network 
https://developer.android.com/training/basics/network-ops/connecting.html#http-client


1. Add permission to connect INTERNET for users. 

Note that to perform the network operations described in this lesson, your application manifest must include the following permissions:	

"<uses-permission android:name="android.permission.INTERNET" />
<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /> "
 
2. Choose an HTTP client: use : HttpURLConnection 
3. Check the Network connection. 

 3.1. Use ConnectivityManager class to get connectivity information : using  Context.getSystemService(Context.CONNECTIVITY_SERVICE).
 3.2. Use NetworkInfo class, and getActiveNetworkInfo() function to get an instance that represents the current network connection.  
 3.3. Check the connection.  
 
  Example: ConnectivityManager connectivityManager = (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);
		   NetworkInfo networkInfo = connectivityManager.getActiveNetworkInfo();
		   If (networkInfo != null && networkInfo.isConnected() ){
			   
		   }).start();
		     
		   
		   
		   }
		   else {
		   
		   }


 
 
 






Network operations can involve unpredictable delays. To prevent this from causing a poor user experience, always perform network operations on a separate thread from the UI. The AsyncTask class provides one of the simplest ways to fire off a new task from the UI thread. For more discussion of this topic, see the blog post Multithreading For Performance.

In the following snippet, the myClickHandler() method invokes new DownloadWebpageTask().execute(stringUrl). The DownloadWebpageTask class is a subclass of AsyncTask. DownloadWebpageTask implements the following AsyncTask methods:

    doInBackground() executes the method downloadUrl(). It passes the web page URL as a parameter. The method downloadUrl() fetches and processes the web page content. When it finishes, it passes back a result string.
    onPostExecute() takes the returned string and displays it in the UI.

public class HttpExampleActivity extends Activity {
    private static final String DEBUG_TAG = "HttpExample";
    private EditText urlText;
    private TextView textView;

    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        urlText = (EditText) findViewById(R.id.myUrl);
        textView = (TextView) findViewById(R.id.myText);
    }

    // When user clicks button, calls AsyncTask.
    // Before attempting to fetch the URL, makes sure that there is a network connection.
    public void myClickHandler(View view) {
        // Gets the URL from the UI's text field.
        String stringUrl = urlText.getText().toString();
        ConnectivityManager connMgr = (ConnectivityManager)
            getSystemService(Context.CONNECTIVITY_SERVICE);
        NetworkInfo networkInfo = connMgr.getActiveNetworkInfo();
        if (networkInfo != null && networkInfo.isConnected()) {
            new DownloadWebpageTask().execute(stringUrl);
        } else {
            textView.setText("No network connection available.");
        }
    }

     // Uses AsyncTask to create a task away from the main UI thread. This task takes a
     // URL string and uses it to create an HttpUrlConnection. Once the connection
     // has been established, the AsyncTask downloads the contents of the webpage as
     // an InputStream. Finally, the InputStream is converted into a string, which is
     // displayed in the UI by the AsyncTask's onPostExecute method.
   
   private class DownloadWebpageTask extends AsyncTask<String, Void, String> {
        @Override
        protected String doInBackground(String... urls) {

            // params comes from the execute() call: params[0] is the url.
            try {
                return downloadUrl(urls[0]);
            } catch (IOException e) {
                return "Unable to retrieve web page. URL may be invalid.";
            }
        }
        // onPostExecute displays the results of the AsyncTask.
        @Override
        protected void onPostExecute(String result) {
            textView.setText(result);
       }
    }
    ...
}

The sequence of events in this snippet is as follows:

    When users click the button that invokes myClickHandler(), the app passes the specified URL to the AsyncTask subclass DownloadWebpageTask.
    The AsyncTask method doInBackground() calls the downloadUrl() method.
    The downloadUrl() method takes a URL string as a parameter and uses it to create a URL object.
    The URL object is used to establish an HttpURLConnection.
    Once the connection has been established, the HttpURLConnection object fetches the web page content as an InputStream.
    The InputStream is passed to the readIt() method, which converts the stream to a string.
    Finally, the AsyncTask's onPostExecute() method displays the string in the main activity's UI.

Connect and Download Data

In your thread that performs your network transactions, you can use HttpURLConnection to perform a GET and download your data. After you call connect(), you can get an InputStream of the data by calling getInputStream().

In the following snippet, the doInBackground() method calls the method downloadUrl(). The downloadUrl() method takes the given URL and uses it to connect to the network via HttpURLConnection. Once a connection has been established, the app uses the method getInputStream() to retrieve the data as an InputStream.

// Given a URL, establishes an HttpUrlConnection and retrieves
// the web page content as a InputStream, which it returns as
// a string.
private String downloadUrl(String myurl) throws IOException {
    InputStream is = null;
    // Only display the first 500 characters of the retrieved
    // web page content.
    int len = 500;

    try {
        URL url = new URL(myurl);
        HttpURLConnection conn = (HttpURLConnection) url.openConnection();
        conn.setReadTimeout(10000 /* milliseconds */);
        conn.setConnectTimeout(15000 /* milliseconds */);
        conn.setRequestMethod("GET");
        conn.setDoInput(true);
        // Starts the query
        conn.connect();
        int response = conn.getResponseCode();
        Log.d(DEBUG_TAG, "The response is: " + response);
        is = conn.getInputStream();

        // Convert the InputStream into a string
        String contentAsString = readIt(is, len);
        return contentAsString;

    // Makes sure that the InputStream is closed after the app is
    // finished using it.
    } finally {
        if (is != null) {
            is.close();
        }
    }
}

Note that the method getResponseCode() returns the connection's status code. This is a useful way of getting additional information about the connection. A status code of 200 indicates success.
Convert the InputStream to a String

An InputStream is a readable source of bytes. Once you get an InputStream, it's common to decode or convert it into a target data type. For example, if you were downloading image data, you might decode and display it like this:

InputStream is = null;
...
Bitmap bitmap = BitmapFactory.decodeStream(is);
ImageView imageView = (ImageView) findViewById(R.id.image_view);
imageView.setImageBitmap(bitmap);

In the example shown above, the InputStream represents the text of a web page. This is how the example converts the InputStream to a string so that the activity can display it in the UI:

// Reads an InputStream and converts it to a String.
public String readIt(InputStream stream, int len) throws IOException, UnsupportedEncodingException {
    Reader reader = null;
    reader = new InputStreamReader(stream, "UTF-8");
    char[] buffer = new char[len];
    reader.read(buffer);
    return new String(buffer);
}




















ANDROID DESIGN PATTERNS: 

 
 *  CREATIONAL PATTERNS: HOW YOU CREATE OBJECTS.
 object creation simple and easy repeatable, if you want to a complex particular object, how can you get one? 

    - Builder: proceed step-by-step and lets you specify only the part of your object matter to you. 
    - Dependency Injection
    - Singleton : create a only interface for global instance. 
	
	Example:
	
	public class SingleTone(){
		private SingleTone singTone = null;
		private ExampleSingleton() {}
		public static SingleTone getInstance(){
		if (singTone = null) {
		singTone = new SingleTone();
			}
		return singTone;
		}
	}
	
	
if want to instace a class: SingleTone singTone = SingleTone.getInstance();
			
			
  *  STRUCTURAL PATTERNS: HOW YOU COMPOSE OBJECTS. 
  Open a class, how will I remember what's it doing and how to put there together? 
    - Adapter
    - Facade

  *  BEHAVIORAL PATTERNS: HOW YOU COORDINATE OBJECT INTERACTIONS.
  “So… how do I tell which class is responsible for what?
    - Command
    - Observer
    - Model View Controller
    - Model View ViewModel

	
	
	
	
------
NOTE Thread/Process Android 

Issue: When a app run, the system call a process and a default Thread - Main Thread or UI Thread. 
-> UI thread executing more event, if a event is not instantaneous -> block the others event -> NOK 

Rules:
1. Can not blocked Thread UI 
2. Can not call Android UI toolkit from other thread



Solution: create a new thread to execute your event by using:  new Thread(new Runnable( public void yourFunction() )).start();
public void onClick(View v) {
-->>>    new Thread(new Runnable() {
        public void run() {
            Bitmap b = loadImageFromNetwork("http://example.com/image.png");
            mImageView.setImageBitmap(b);
        }
    }).start();
}
-> call Android UI toolkit from another Thread (using new Thread to edit ImageView )-> impact to rules 2: 
Solution: Can call UI Thread from another Thread. 
Below is list options way to call UI Thread from another Thread: 
   - Activity.runOnUiThread(Runnable)
   - View.post(Runnable)
   - View.postDelayed(Runnable, long)

   
Example View.post(Runnable): 
public void onClick(View view){
	new Thread(new Runnable(){
		public void run() {
			final Bitmap bitmap = loadImageFromNetwork("http://example.com/image.png");
			mImageView.post(new Runnable(){
			public void run() {
			mImageView.setImageBitmap(bitmap);
					}
				}
			)	
		}
	}
).start();

}


However, as the complexy of the operation grow, this kind of code can get complicaed and difficult to maintain.

Solution : To handle more complex interactions with a worker thread, you might consider using a Handler in your worker thread, to process messages delivered from the UI thread. "AsyncTask class " 
""The AsyncTask allow you to perform asynchronous work on your user interface. It perform the blocking operations on worker Thread and then publishs result on UI Thread, 
without any handle the thread. ""
To using the AsyncTask: call 
implement the doInBackground() callback method, which runs in a pool of background threads.
To use it, you must subclass AsyncTask and implement the doInBackground() callback method, which runs in a pool of background threads. To update your UI, you should implement onPostExecute(), which delivers the result from doInBackground() and runs in the UI thread, so you can safely update your UI. You can then run the task by calling execute() from the UI thread.
Step to using the AsyncTask Class: 
1. Create a Class instance of AsyncTask Class: 
	on that class, declare two function : 
		- doInBackground(): -> return value of blocking operations 
		- onPostExecute(): -> publishes the result to the UI. 

		

public void onClick(View v) {
    new DownloadImageTask().execute("http://example.com/image.png");
}

private class DownloadImageTask extends AsyncTask<String, Void, Bitmap> {
    /** The system calls this to perform work in a worker thread and
      * delivers it the parameters given to AsyncTask.execute() */
	  
	  
    protected Bitmap doInBackground(String... urls) {
        return loadImageFromNetwork(urls[0]);
    }

    /** The system calls this to perform work in the UI thread and delivers
      * the result from doInBackground() */
	  
	  
    protected void onPostExecute(Bitmap result) {
        mImageView.setImageBitmap(result);
    }
}

   
	
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		

	
	
	
	
	Processes and Threads
In this document

    Processes
        Process lifecycle
    Threads
        Worker threads
        Thread-safe methods
    Interprocess Communication

When AN APPLICATION COMPONENT STARTS and the application does not have any other components running, the Android system starts A NEW LINUX PROCESS for the application WITH A SINGLE THREAD of execution. By default, all COMPONENTS of thE SAME APPLICATIOn run in the SAME PROCESS AND THREAD (CALLED THE "MAIN" THREAD). If an application component starts and there already exists a process for that application (because another component from the application exists), then the component is started within that process and uses the same thread of execution. However, you can arrange for different components in your application to run iN SEPARATE PROCESSES, and you CAN CREATE ADDITIONAL THREADS FOR ANY PROCESS.

This document discusses how processes and threads work in an android application.

PROCESSES

By default, all components of the same application run in the same process and most applications SHOULD NOT CHANGE THIS. However, if you find that you need to control which process a certain component belongs to, you can do so in the manifest file.

The manifest entry for each type of component element—<activity>, <service>, <receiver>, and <provider>—supports an android:process attribute that can specify a process in which that component should run. You can set this attribute so that EACH COMPONENT RUNS IN ITS OWN PROCESS or so that sOME COMPONENTS SHARE A PROCESS WHILE OTHERS DO NOT. You can also set android:process so that COMPONENTS OF DIFFERENT APPLICATIONS RUN IN THE SAME PROCESS—PROVIDED that the applications share the same Linux user ID and are signed with the same certificates.

The <application> element also supports an android:process attribute, to set a default value that applies to all components.

ANDROID MIGHT DECIDE TO SHUT DOWN A PROCESS AT SOME POINT, when MEMORY IS LOW and REQUIRED BY OTHER PROCESSES that are more immediately serving the user. Application components running in the process that's killed are consequently destroyed. A process is started again for those components when there's again work for them to do.

When deciding which processes to kill, the Android system weighs their relative importance to the user. For example, it more readily shuts down a process hosting activities that are no longer visible on screen, compared to a process hosting visible activities. The decision whether to terminate a process, therefore, DEPENDS ON THE STATE OF THE COMPONENTS RUNNING IN THAT PROCESS. The rules used to decide which processes to terminate is discussed below.

PROCESS LIFECYCLE

The Android system tries to maintain an application process for as long as possible, but eventually needs to remove old processes to reclaim memory for new or more important processes. To DETERMINE WHICH PROCESSES TO KEEP AND WHICH TO KILL, the system places each process into an "IMPORTANCE HIERARCHY" based on the COMPONENTS RUNNING in the process and the STATE of those components. Processes with the lowest importance are eliminated first, then those with the next lowest importance, and so on, as necessary to recover system resources.

There ARE FIVE LEVELS IN THE IMPORTANCE HIERARCHY. The following list presents the different types of processes in order of importance (the first process is most important and is killed last):

    FOREGROUND PROCESS

    A process that is required for what the user is currently doing. A process is considered to be in the foreground if any of the following conditions are true:
        It hosts an ACTIVITY THAT THE USER IS INTERACTING WITH (the Activity's onResume() method has been called).
        It hosts a SERVICE THAT'S BOUND TO THE ACTIVITY THAT THE USER IS INTERACTING WITH.
        It hosts a SERVICE THAT'S RUNNING "IN THE FOREGROUND"—the service has called startForeground().
        It hosts a Service that's executing one of its lifecycle callbacks (onCreate(), onStart(), or onDestroy()).
        It hosts a BROADCASTRECEIVER That's executing its onReceive() method.

    Generally, only a few foreground processes exist at any given time. They are killed only as a last resort—if memory is so low that they cannot all continue to run. Generally, at that point, the device has reached a memory paging state, so killing some foreground processes is required to keep the user interface responsive.
	
	
    VISIBLE PROCESS

    A process that doesn't have any foreground components, but STILL CAN AFFECT WHAT THE USER SEES ON SCREEN. A process is considered to be visible if either of the following conditions are true:
        It hosts an Activity that is not in the foreground, but is still visible to the user (its onPause() method has been called). This might occur, for example, if the foreground activity started a dialog, which allows the previous activity to be seen behind it.
        It hosts a Service that's bound to a visible (or foreground) activity.

    A visible process is considered extremely important and will not be killed unless doing so is required to keep all foreground processes running.
	
    SERVICE PROCESS

    A process that is running a service that has been started with the startService() method and does not fall into either of the two higher categories. Although service processes are not directly tied to anything the user sees, they are generally doing things that the user cares about (such as playing music in the background or downloading data on the network), so the system keeps them running unless there's not enough memory to retain them along with all foreground and visible processes.
	
    BACKGROUND PROCESS

    A process holding an activity that's not currently visible to the user (the activity's onStop() method has been called). These processes have no direct impact on the user experience, and the system can kill them at any time to reclaim memory for a foreground, visible, or service process. Usually there are many background processes running, so they are kept in an LRU (least recently used) list to ensure that the process with the activity that was most recently seen by the user is the last to be killed. If an activity implements its lifecycle methods correctly, and saves its current state, killing its process will not have a visible effect on the user experience, because when the user navigates back to the activity, the activity restores all of its visible state. See the Activities document for information about saving and restoring state.
	
    EMPTY PROCESS

    A process that doesn't hold any active application components. The only reason to keep this kind of process alive is for caching purposes, to improve startup time the next time a component needs to run in it. The system often kills these processes in order to balance overall system resources between process caches and the underlying kernel caches.

Android ranks a process at the highest level it can, based upon the importance of the components currently active in the process. For example, if a process hosts a service and a visible activity, the process is ranked as a visible process, not a service process.

In addition, a process's ranking might be increased because other processes are dependent on it—a process that is serving another process can never be ranked lower than the process it is serving. For example, if a content provider in process A is serving a client in process B, or if a service in process A is bound to a component in process B, process A is always considered at least as important as process B.

Because a process running a service is ranked higher than a process with background activities, an activity that initiates a long-running operation might do well to start a service for that operation, rather than simply create a worker thread—particularly if the operation will likely outlast the activity. For example, an activity that's uploading a picture to a web site should start a service to perform the upload so that the upload can continue in the background even if the user leaves the activity. Using a service guarantees that the operation will have at least "service process" priority, regardless of what happens to the activity. This is the same reason that broadcast receivers should employ services rather than simply put time-consuming operations in a thread.
Threads

When an APPLICATION IS LAUNCHED, the system creates a thread of execution for the application, called "main." This thread is very important because it is in charge of dispatching events to the appropriate user interface widgets, including drawing events. It is also the thread in which your application interacts with components from the Android UI toolkit (components from the android.widget and android.view packages). As such, the main thread is also sometimes called the UI thread.

The system DOES NOT CREATE A SEPARATE THREAD for each instance of a component. All components that run in the same process are instantiated in the UI thread, and system calls to each component are dispatched from that thread. Consequently, methods that respond to system callbacks (such as onKeyDown() to report user actions or a lifecycle callback method) always run in the UI thread of the process.

For instance, when the user touches a button on the screen, your app's UI thread dispatches the touch event to the widget, which in turn sets its pressed state and posts an invalidate request to the event queue. The UI thread dequeues the request and notifies the widget that it should redraw itself.

When your app performs intensive work in response to user interaction, this single thread model can yield poor performance unless you implement your application properly. Specifically, if everything is happening in the UI thread, performing long operations such as network access or database queries will block the whole UI. When the thread is blocked, no events can be dispatched, including drawing events. From the user's perspective, the application appears to hang. Even worse, if the UI thread is blocked for more than a few seconds (about 5 seconds currently) the user is presented with the infamous "application not responding" (ANR) dialog. The user might then decide to quit your application and uninstall it if they are unhappy.

Additionally, the Andoid UI toolkit is not thread-safe. So, you must not manipulate your UI from a worker thread—you must do all manipulation to your user interface from the UI thread. Thus, there are simply two rules to Android's single thread model:

   **** DO NOT BLOCK THE UI THREAD
   **** DO NOT ACCESS THE ANDROID UI TOOLKIT FROM OUTSIDE THE UI THREAD 

WORKER THREADS

Because of the single thread model described above, it's vital to the responsiveness of your application's UI that you do not block the UI thread. If you have operations to perform that are not instantaneous, YOU SHOULD MAKE SURE TO DO THEM IN SEPARATE THREADS ("background" or "worker" threads).

For example, below is some code for a click listener that downloads an image from a separate thread and displays it in an ImageView:

public void onClick(View v) {
    new Thread(
	
	
	new Runnable() {
        public void run() {
            Bitmap b = loadImageFromNetwork("http://example.com/image.png");
            mImageView.setImageBitmap(b);
        }
    }).start();
}




At first, this seems to work fine, because it creates a new thread to handle the network operation. However, it violates the second rule of the single-threaded model: do not access the Android UI toolkit from outside the UI thread—THIS SAMPLE MODIFIES THE ImageView FROM THE WORKER THREAD INSTEAD OF THE UI THREAD. This can result in undefined and unexpected behavior, which can be difficult and time-consuming to track down.

To fix this problem, Android offers several ways TO ACCESS THE UI THREAD FROM OTHER THREADs. Here is a list of methods that can help:

    Activity.runOnUiThread(Runnable)
    View.post(Runnable)
    View.postDelayed(Runnable, long)

For example, you can fix the above code by using the View.post(Runnable) method:

public void onClick(View v) {
    new Thread(new Runnable() {
        public void run() {
            final Bitmap bitmap =
                    loadImageFromNetwork("http://example.com/image.png");
            mImageView.post(new Runnable() {
                public void run() {
                    mImageView.setImageBitmap(bitmap);
                }
            });
        }
    }).start();
}

Now this implementation is thread-safe: the network operation is done from a separate thread while the ImageView is manipulated from the UI thread.

However, aS THE COMPLEXITY OF THE OPERATION GROWS, THIS KIND OF CODE CAN GET COMPLICATED AND DIFFICULT TO MAINTAIN. To handle more complex interactions with a worker thread, you might consider using a Handler in your worker thread, to process messages delivered from the UI thread. Perhaps the best solution, though, is to extend the AsyncTask class, which simplifies the execution of worker thread tasks that need to interact with the UI.
Using AsyncTask

AsyncTask allows you to perform asynchronous work on your user interface. It performs the blocking operations in a worker thread and then publishes the results on the UI thread, without requiring you to handle threads and/or handlers yourself.

To use it, you must subclass AsyncTask and implement the doInBackground() callback method, which runs in a pool of background threads. To update your UI, you should implement onPostExecute(), which delivers the result from doInBackground() and runs in the UI thread, so you can safely update your UI. You can then run the task by calling execute() from the UI thread.

For example, you can implement the previous example using AsyncTask this way:

public void onClick(View v) {
    new DownloadImageTask().execute("http://example.com/image.png");
}

private class DownloadImageTask extends AsyncTask<String, Void, Bitmap> {
    /** The system calls this to perform work in a worker thread and
      * delivers it the parameters given to AsyncTask.execute() */
    protected Bitmap doInBackground(String... urls) {
        return loadImageFromNetwork(urls[0]);
    }

    /** The system calls this to perform work in the UI thread and delivers
      * the result from doInBackground() */
    protected void onPostExecute(Bitmap result) {
        mImageView.setImageBitmap(result);
    }
}

Now the UI is safe and the code is simpler, because it separates the work into the part that should be done on a worker thread and the part that should be done on the UI thread.

You should read the AsyncTask reference for a full understanding on how to use this class, but here is a quick overview of how it works:

 - You can specify the type of the parameters, the progress values, and the final value of the task, using generics
 - The method doInBackground() executes automatically on a worker thread
 - onPreExecute(), onPostExecute(), and onProgressUpdate() are all invoked on the UI thread
 - The value returned by doInBackground() is sent to onPostExecute()
 - You can call publishProgress() at anytime in doInBackground() to execute onProgressUpdate() on the UI thread
 - You can cancel the task at any time, from any thread

Caution: Another problem you might encounter when using a worker thread is unexpected restarts in your activity due to a runtime configuration change(such as when the user changes the screen orientation), which may destroy your worker thread. To see how you can persist your task during one of these restarts and how to properly cancel the task when the activity is destroyed, see the source code for the Shelves sample application.
Thread-safe methods

In some situations, the methods you implement might be called from more than one thread, and therefore must be written to be thread-safe.

This is primarily true for methods that can be called remotely—such as methods in a bound service. When a call on a method implemented in an IBinder originates in the same process in which the IBinder is running, the method is executed in the caller's thread. However, when the call originates in another process, the method is executed in a thread chosen from a pool of threads that the system maintains in the same process as the IBinder (it's not executed in the UI thread of the process). For example, whereas a service's onBind() method would be called from the UI thread of the service's process, methods implemented in the object that onBind() returns (for example, a subclass that implements RPC methods) would be called from threads in the pool. Because a service can have more than one client, more than one pool thread can engage the same IBinder method at the same time. IBinder methods must, therefore, be implemented to be thread-safe.

Similarly, a content provider can receive data requests that originate in other processes. Although the ContentResolver and ContentProvider classes hide the details of how the interprocess communication is managed, ContentProvider methods that respond to those requests—the methods query(), insert(), delete(), update(), and getType()—are called from a pool of threads in the content provider's process, not the UI thread for the process. Because these methods might be called from any number of threads at the same time, they too must be implemented to be thread-safe.

Interprocess Communication

Android offers a mechanism for interprocess communication (IPC) using remote procedure calls (RPCs), in which a method is called by an activity or other application component, but executed remotely (in another process), with any result returned back to the caller. This entails decomposing a method call and its data to a level the operating system can understand, transmitting it from the local process and address space to the remote process and address space, then reassembling and reenacting the call there. Return values are then transmitted in the opposite direction. Android provides all the code to perform these IPC transactions, so you can focus on defining and implementing the RPC programming interface.

To perform IPC, your application must bind to a service, using bindService(). For more information, see the Services developer guide.
	
	
	

	
	
1. ANDROID'S PREFERENCE API FOR SETTINGS. 



Key classes

    Preference
    PreferenceActivity
    PreferenceFragment

See also

    Settings design guide

Applications often include settings that allow users to modify app features and behaviors. For example, some apps allow users to specify whether notifications are enabled or specify how often the application syncs data with the cloud.

If you want to provide settings for your app, you should use Android's Preference APIs to build an interface that's consistent with the user experience in other Android apps (including the system settings). This document describes how to build your app settings using Preference APIs.

Settings Design

For information about how to design your settings, read the Settings design guide.

Figure 1. Screenshots from the Android Messaging app's settings. Selecting an item defined by a Preference opens an interface to change the setting.
Overview

Instead of using View objects to build the user interface, settings are built using various subclasses of the Preference class that you declare in an XML file.

A Preference object is the building block for a single setting. Each Preference appears as an item in a list and provides the appropriate UI for users to modify the setting. For example, a CheckBoxPreference creates a list item that shows a checkbox, and a ListPreference creates an item that opens a dialog with a list of choices.

Each Preference you add has a corresponding "key-value" pair that the system uses to save the setting in a default SharedPreferences file for your app's settings. When the user changes a setting, the system updates the corresponding value in the SharedPreferences file for you. The only time you should directly interact with the associated SharedPreferences file is when you need to read the value in order to determine your app's behavior based on the user's setting.

The value saved in SharedPreferences for each setting can be one of the following data types:

    Boolean
    Float
    Int
    Long
    String
    String Set

Because your app's settings UI is built using Preference objects instead of View objects, you need to use a specialized Activity or Fragment subclass to display the list settings:

    If your app supports versions of Android older than 3.0 (API level 10 and lower), you must build the activity as an extension of the PreferenceActivity class.
    On Android 3.0 and later, you should instead use a traditional Activity that hosts a PreferenceFragment that displays your app settings. However, you can also use PreferenceActivity to create a two-pane layout for large screens when you have multiple groups of settings.

How to set up your PreferenceActivity and instances of PreferenceFragment is discussed in the sections about Creating a Preference Activity and Using Preference Fragments.

PREFERENCES xx

Every setting for your app is represented by a specific subclass of the Preference class. Each subclass includes a set of core properties that allow you to specify things such as a title for the setting and the default value. Each subclass also provides its own specialized properties and user interface. For instance, figure 1 shows a screenshot from the Messaging app's settings. Each list item in the settings screen is backed by a different Preference object.

A few of the most common preferences are:

CheckBoxPreference
    Shows an item with a checkbox for a setting that is either enabled or disabled. The saved value is a boolean (true if it's checked).
ListPreference
    Opens a dialog with a list of radio buttons. The saved value can be any one of the supported value types (listed above).
EditTextPreference
    Opens a dialog with an EditText widget. The saved value is a String.

See the Preference class for a list of all other subclasses and their corresponding properties.

Of course, the built-in classes don't accommodate every need and your application might require something more specialized. For example, the platform currently does not provide a Preference class for picking a number or a date. So you might need to define your own Preference subclass. For help doing so, "see the section about Building a Custom Preference. "

DEFINING PREFERENCES IN XML

Although you can instantiate new Preference objects at runtime, you should define your list of settings in XML with a hierarchy of Preference objects. Using an XML file to define your collection of settings is preferred because the file provides an easy-to-read structure that's simple to update. Also, your app's settings are generally pre-determined, although you can still modify the collection at runtime.

Each Preference subclass can be declared with an XML element that matches the class name, such as <CheckBoxPreference>.

You must save the XML file in the res/xml/ directory. Although you can name the file anything you want, it's traditionally named preferences.xml. You usually need only one file, because branches in the hierarchy (that open their own list of settings) are declared using nested instances of PreferenceScreen.

Note: If you want to create a multi-pane layout for your settings, then you need separate XML files for each fragment.

The root node for the XML file must be a element. Within this element is where you add each Preference. Each child you add within the <PreferenceScreen> element appears as a single item in the list of settings.

For example:

<?xml version="1.0" encoding="utf-8"?>
<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android">
    <CheckBoxPreference
        android:key="pref_sync"
        android:title="@string/pref_sync"
        android:summary="@string/pref_sync_summ"
        android:defaultValue="true" />
    <ListPreference
        android:dependency="pref_sync"
        android:key="pref_syncConnectionType"
        android:title="@string/pref_syncConnectionType"
        android:dialogTitle="@string/pref_syncConnectionType"
        android:entries="@array/pref_syncConnectionTypes_entries"
        android:entryValues="@array/pref_syncConnectionTypes_values"
        android:defaultValue="@string/pref_syncConnectionTypes_default" />
</PreferenceScreen>

In this example, there's a CheckBoxPreference and a ListPreference. Both items include the following three attributes:

android:key
    This attribute is required for preferences that persist a data value. It specifies the unique key (a string) the system uses when saving this setting's value in the SharedPreferences.

    The only instances in which this attribute is not required is when the preference is a PreferenceCategory or PreferenceScreen, or the preference specifies an Intent to invoke (with an <intent> element) or a Fragment to display (with an android:fragment attribute).
android:title
    This provides a user-visible name for the setting.
android:defaultValue
    This specifies the initial value that the system should set in the SharedPreferences file. You should supply a default value for all settings.

For information about all other supported attributes, see the Preference (and respective subclass) documentation.

Figure 2. Setting categories with titles.
1. The category is specified by the <PreferenceCategory> element.
2. The title is specified with the android:title attribute.

When your list of settings exceeds about 10 items, you might want to add titles to define groups of settings or display those groups in a separate screen. These options are described in the following sections.

CREATING SETTING GROUPS

If you present a list of 10 or more settings, users may have difficulty scanning, comprehending, and processing them. You can remedy this by dividing some or all of the settings into groups, effectively turning one long list into multiple shorter lists. A group of related settings can be presented in one of two ways:

    Using titles
    Using subscreens

You can use one or both of these grouping techniques to organize your app's settings. When deciding which to use and how to divide your settings, you should follow the guidelines in Android Design's Settings guide.
Using titles

If you want to provide dividers with headings between groups of settings (as shown in figure 2), place each group of Preference objects inside a PreferenceCategory.

For example:

<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android">
    <PreferenceCategory
        android:title="@string/pref_sms_storage_title"
        android:key="pref_key_storage_settings">
        <CheckBoxPreference
            android:key="pref_key_auto_delete"
            android:summary="@string/pref_summary_auto_delete"
            android:title="@string/pref_title_auto_delete"
            android:defaultValue="false"... />
        <Preference
            android:key="pref_key_sms_delete_limit"
            android:dependency="pref_key_auto_delete"
            android:summary="@string/pref_summary_delete_limit"
            android:title="@string/pref_title_sms_delete"... />
        <Preference
            android:key="pref_key_mms_delete_limit"
            android:dependency="pref_key_auto_delete"
            android:summary="@string/pref_summary_delete_limit"
            android:title="@string/pref_title_mms_delete" ... />
    </PreferenceCategory>
    ...
</PreferenceScreen>

USING SUBSCREENS

If you want to place groups of settings into a subscreen (as shown in figure 3), place the group of Preference objects inside a PreferenceScreen.

Figure 3. Setting subscreens. The <PreferenceScreen> element creates an item that, when selected, opens a separate list to display the nested settings.

For example:

<PreferenceScreen  xmlns:android="http://schemas.android.com/apk/res/android">
    <!-- opens a subscreen of settings -->
    <PreferenceScreen
        android:key="button_voicemail_category_key"
        android:title="@string/voicemail"
        android:persistent="false">
        <ListPreference
            android:key="button_voicemail_provider_key"
            android:title="@string/voicemail_provider" ... />
        <!-- opens another nested subscreen -->
        <PreferenceScreen
            android:key="button_voicemail_setting_key"
            android:title="@string/voicemail_settings"
            android:persistent="false">
            ...
        </PreferenceScreen>
        <RingtonePreference
            android:key="button_voicemail_ringtone_key"
            android:title="@string/voicemail_ringtone_title"
            android:ringtoneType="notification" ... />
        ...
    </PreferenceScreen>
    ...
</PreferenceScreen>

USING INTENTS

In some cases, you might want a preference item to open a different activity instead of a settings screen, such as a web browser to view a web page. To invoke an Intent when the user selects a preference item, add an <intent> element as a child of the corresponding <Preference> element.

For example, here's how you can use a preference item to open a web page:

<Preference android:title="@string/prefs_web_page" >
    <intent android:action="android.intent.action.VIEW"
            android:data="http://www.example.com" />
</Preference>

You can create both implicit and explicit intents using the following attributes:

android:action
    The action to assign, as per the setAction() method.
android:data
    The data to assign, as per the setData() method.
android:mimeType
    The MIME type to assign, as per the setType() method.
android:targetClass
    The class part of the component name, as per the setComponent() method.
android:targetPackage
    The package part of the component name, as per the setComponent() method.

CREATING A PREFERENCE ACTIVITY

To display your settings in an activity, extend the PreferenceActivity class. This is an extension of the traditional Activity class that displays a list of settings based on a hierarchy of Preference objects. The PreferenceActivity automatically persists the settings associated with each Preference when the user makes a change.

Note: If you're developing your application for Android 3.0 and higher, you should instead use PreferenceFragment. Go to the next section about Using Preference Fragments.

The most important thing to remember is that you do not load a layout of views during the onCreate() callback. Instead, you call addPreferencesFromResource() to add the preferences you've declared in an XML file to the activity. For example, here's the bare minimum code required for a functional PreferenceActivity:

public class SettingsActivity extends PreferenceActivity {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        addPreferencesFromResource(R.xml.preferences);
    }
}

This is actually enough code for some apps, because as soon as the user modifies a preference, the system saves the changes to a default SharedPreferences file that your other application components can read when you need to check the user's settings. Many apps, however, require a little more code in order to listen for changes that occur to the preferences. For information about listening to changes in the SharedPreferences file, see the section about Reading Preferences.

USING PREFERENCE FRAGMENTS

If you're developing for Android 3.0 (API level 11) and higher, you should use a PreferenceFragment to display your list of Preference objects. You can add a PreferenceFragment to any activity—you don't need to use PreferenceActivity.

Fragments provide a more flexible architecture for your application, compared to using activities alone, no matter what kind of activity you're building. As such, we suggest you use PreferenceFragment to control the display of your settings instead of PreferenceActivity when possible.

Your implementation of PreferenceFragment can be as simple as defining the onCreate() method to load a preferences file with addPreferencesFromResource(). For example:

public static class SettingsFragment extends PreferenceFragment {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // Load the preferences from an XML resource
        addPreferencesFromResource(R.xml.preferences);
    }
    ...
}

You can then add this fragment to an Activity just as you would for any other Fragment. For example:

public class SettingsActivity extends Activity {
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        // Display the fragment as the main content.
        getFragmentManager().beginTransaction()
                .replace(android.R.id.content, new SettingsFragment())
                .commit();
    }
}

Note: A PreferenceFragment doesn't have a its own Context object. If you need a Context object, you can call getActivity(). However, be careful to call getActivity() only when the fragment is attached to an activity. When the fragment is not yet attached, or was detached during the end of its lifecycle, getActivity() will return null.

SETTING DEFAULT VALUES

The preferences you create probably define some important behaviors for your application, so it's necessary that you initialize the associated SharedPreferences file with default values for each Preference when the user first opens your application.

The first thing you must do is specify a default value for each Preference object in your XML file using the android:defaultValue attribute. The value can be any data type that is appropriate for the corresponding Preference object. For example:

<!-- default value is a boolean -->
<CheckBoxPreference
    android:defaultValue="true"
    ... />

<!-- default value is a string -->
<ListPreference
    android:defaultValue="@string/pref_syncConnectionTypes_default"
    ... />

Then, from the onCreate() method in your application's main activity—and in any other activity through which the user may enter your application for the first time—call setDefaultValues():

PreferenceManager.setDefaultValues(this, R.xml.advanced_preferences, false);

Calling this during onCreate() ensures that your application is properly initialized with default settings, which your application might need to read in order to determine some behaviors (such as whether to download data while on a cellular network).

This method takes three arguments:

    Your application Context.
    The resource ID for the preference XML file for which you want to set the default values.
    A boolean indicating whether the default values should be set more than once.

    When false, the system sets the default values only if this method has never been called in the past (or the KEY_HAS_SET_DEFAULT_VALUES in the default value shared preferences file is false).

As long as you set the third argument to false, you can safely call this method every time your activity starts without overriding the user's saved preferences by resetting them to the defaults. However, if you set it to true, you will override any previous values with the defaults.



USING PREFERENCE HEADERS

In rare cases, you might want to design your settings such that the first screen displays only a list of subscreens (such as in the system Settings app, as shown in figures 4 and 5). When you're developing such a design for Android 3.0 and higher, you should use the "headers" feature instead of building subscreens with nested PreferenceScreen elements.

To build your settings with headers, you need to:

   1.  Separate each group of settings into separate instances of PreferenceFragment. That is, each group of settings needs a separate XML file.
   2.  Create an XML headers file that lists each settings group and declares which fragment contains the corresponding list of settings.
   3.  Extend the PreferenceActivity class to host your settings.
   4.  Implement the onBuildHeaders() callback to specify the headers file.

A great benefit to using this design is that PreferenceActivity automatically presents the two-pane layout shown in figure 4 when running on large screens.

Even if your application supports versions of Android older than 3.0, you can build your application to use PreferenceFragment for a two-pane presentation on newer devices while still supporting a traditional multi-screen hierarchy on older devices (see the section about Supporting older versions with preference headers).

Figure 4. Two-pane layout with headers.
1. The headers are defined with an XML headers file.
2. Each group of settings is defined by a PreferenceFragment that's specified by a <header> element in the headers file.

Figure 5. A handset device with setting headers. When an item is selected, the associated PreferenceFragment replaces the headers.
Creating the headers file

Each group of settings in your list of headers is specified by a single <header> element inside a root <preference-headers> element. For example:

<?xml version="1.0" encoding="utf-8"?>
<preference-headers xmlns:android="http://schemas.android.com/apk/res/android">
    <header
        android:fragment="com.example.prefs.SettingsActivity$SettingsFragmentOne"
        android:title="@string/prefs_category_one"
        android:summary="@string/prefs_summ_category_one" />
    <header
        android:fragment="com.example.prefs.SettingsActivity$SettingsFragmentTwo"
        android:title="@string/prefs_category_two"
        android:summary="@string/prefs_summ_category_two" >
        <!-- key/value pairs can be included as arguments for the fragment. -->
        <extra android:name="someKey" android:value="someHeaderValue" />
    </header>
</preference-headers>

With the android:fragment attribute, each header declares an instance of PreferenceFragment that should open when the user selects the header.

The <extras> element allows you to pass key-value pairs to the fragment in a Bundle. The fragment can retrieve the arguments by calling getArguments(). You might pass arguments to the fragment for a variety of reasons, but one good reason is to reuse the same subclass of PreferenceFragment for each group and use the argument to specify which preferences XML file the fragment should load.

For example, here's a fragment that can be reused for multiple settings groups, when each header defines an <extra> argument with the "settings" key:

public static class SettingsFragment extends PreferenceFragment {
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        String settings = getArguments().getString("settings");
        if ("notifications".equals(settings)) {
            addPreferencesFromResource(R.xml.settings_wifi);
        } else if ("sync".equals(settings)) {
            addPreferencesFromResource(R.xml.settings_sync);
        }
    }
}

Displaying the headers

To display the preference headers, you must implement the onBuildHeaders() callback method and call loadHeadersFromResource(). For example:

public class SettingsActivity extends PreferenceActivity {
    @Override
    public void onBuildHeaders(List<Header> target) {
        loadHeadersFromResource(R.xml.preference_headers, target);
    }
}

When the user selects an item from the list of headers, the system opens the associated PreferenceFragment.

Note: When using preference headers, your subclass of PreferenceActivity doesn't need to implement the onCreate() method, because the only required task for the activity is to load the headers.
Supporting older versions with preference headers

If your application supports versions of Android older than 3.0, you can still use headers to provide a two-pane layout when running on Android 3.0 and higher. All you need to do is create an additional preferences XML file that uses basic <Preference> elements that behave like the header items (to be used by the older Android versions).

Instead of opening a new PreferenceScreen, however, each of the <Preference> elements sends an Intent to the PreferenceActivity that specifies which preference XML file to load.

For example, here's an XML file for preference headers that is used on Android 3.0 and higher (res/xml/preference_headers.xml):

<preference-headers xmlns:android="http://schemas.android.com/apk/res/android">
    <header
        android:fragment="com.example.prefs.SettingsFragmentOne"
        android:title="@string/prefs_category_one"
        android:summary="@string/prefs_summ_category_one" />
    <header
        android:fragment="com.example.prefs.SettingsFragmentTwo"
        android:title="@string/prefs_category_two"
        android:summary="@string/prefs_summ_category_two" />
</preference-headers>

And here is a preference file that provides the same headers for versions older than Android 3.0 (res/xml/preference_headers_legacy.xml):

<PreferenceScreen xmlns:android="http://schemas.android.com/apk/res/android">
    <Preference
        android:title="@string/prefs_category_one"
        android:summary="@string/prefs_summ_category_one"  >
        <intent
            android:targetPackage="com.example.prefs"
            android:targetClass="com.example.prefs.SettingsActivity"
            android:action="com.example.prefs.PREFS_ONE" />
    </Preference>
    <Preference
        android:title="@string/prefs_category_two"
        android:summary="@string/prefs_summ_category_two" >
        <intent
            android:targetPackage="com.example.prefs"
            android:targetClass="com.example.prefs.SettingsActivity"
            android:action="com.example.prefs.PREFS_TWO" />
    </Preference>
</PreferenceScreen>

Because support for <preference-headers> was added in Android 3.0, the system calls onBuildHeaders() in your PreferenceActivity only when running on Android 3.0 or higher. In order to load the "legacy" headers file (preference_headers_legacy.xml), you must check the Android version and, if the version is older than Android 3.0 (HONEYCOMB), call addPreferencesFromResource() to load the legacy header file. For example:

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    ...

    if (Build.VERSION.SDK_INT < Build.VERSION_CODES.HONEYCOMB) {
        // Load the legacy preferences headers
        addPreferencesFromResource(R.xml.preference_headers_legacy);
    }
}

// Called only on Honeycomb and later
@Override
public void onBuildHeaders(List<Header> target) {
   loadHeadersFromResource(R.xml.preference_headers, target);
}

The only thing left to do is handle the Intent that's passed into the activity to identify which preference file to load. So retrieve the intent's action and compare it to known action strings that you've used in the preference XML's <intent> tags:

final static String ACTION_PREFS_ONE = "com.example.prefs.PREFS_ONE";
...

@Override
public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);

    String action = getIntent().getAction();
    if (action != null && action.equals(ACTION_PREFS_ONE)) {
        addPreferencesFromResource(R.xml.preferences);
    }
    ...

    else if (Build.VERSION.SDK_INT < Build.VERSION_CODES.HONEYCOMB) {
        // Load the legacy preferences headers
        addPreferencesFromResource(R.xml.preference_headers_legacy);
    }
}

Beware that consecutive calls to addPreferencesFromResource() will stack all the preferences in a single list, so be sure that it's only called once by chaining the conditions with else-if statements.
Reading Preferences

By default, all your app's preferences are saved to a file that's accessible from anywhere within your application by calling the static method PreferenceManager.getDefaultSharedPreferences(). This returns the SharedPreferences object containing all the key-value pairs that are associated with the Preference objects used in your PreferenceActivity.

For example, here's how you can read one of the preference values from any other activity in your application:

SharedPreferences sharedPref = PreferenceManager.getDefaultSharedPreferences(this);
String syncConnPref = sharedPref.getString(SettingsActivity.KEY_PREF_SYNC_CONN, "");

Listening for preference changes

There are several reasons you might want to be notified as soon as the user changes one of the preferences. In order to receive a callback when a change happens to any one of the preferences, implement the SharedPreference.OnSharedPreferenceChangeListener interface and register the listener for the SharedPreferences object by calling registerOnSharedPreferenceChangeListener().

The interface has only one callback method, onSharedPreferenceChanged(), and you might find it easiest to implement the interface as a part of your activity. For example:

public class SettingsActivity extends PreferenceActivity
                              implements OnSharedPreferenceChangeListener {
    public static final String KEY_PREF_SYNC_CONN = "pref_syncConnectionType";
    ...

    public void onSharedPreferenceChanged(SharedPreferences sharedPreferences,
        String key) {
        if (key.equals(KEY_PREF_SYNC_CONN)) {
            Preference connectionPref = findPreference(key);
            // Set summary to be the user-description for the selected value
            connectionPref.setSummary(sharedPreferences.getString(key, ""));
        }
    }
}

In this example, the method checks whether the changed setting is for a known preference key. It calls findPreference() to get the Preference object that was changed so it can modify the item's summary to be a description of the user's selection. That is, when the setting is a ListPreference or other multiple choice setting, you should call setSummary() when the setting changes to display the current status (such as the Sleep setting shown in figure 5).

Note: As described in the Android Design document about Settings, we recommend that you update the summary for a ListPreference each time the user changes the preference in order to describe the current setting.

For proper lifecycle management in the activity, we recommend that you register and unregister your SharedPreferences.OnSharedPreferenceChangeListener during the onResume() and onPause() callbacks, respectively:

@Override
protected void onResume() {
    super.onResume();
    getPreferenceScreen().getSharedPreferences()
            .registerOnSharedPreferenceChangeListener(this);
}

@Override
protected void onPause() {
    super.onPause();
    getPreferenceScreen().getSharedPreferences()
            .unregisterOnSharedPreferenceChangeListener(this);
}

Caution: When you call registerOnSharedPreferenceChangeListener(), the preference manager does not currently store a strong reference to the listener. You must store a strong reference to the listener, or it will be susceptible to garbage collection. We recommend you keep a reference to the listener in the instance data of an object that will exist as long as you need the listener.

For example, in the following code, the caller does not keep a reference to the listener. As a result, the listener will be subject to garbage collection, and it will fail at some indeterminate time in the future:

prefs.registerOnSharedPreferenceChangeListener(
  // Bad! The listener is subject to garbage collection!
  new SharedPreferences.OnSharedPreferenceChangeListener() {
  public void onSharedPreferenceChanged(SharedPreferences prefs, String key) {
    // listener implementation
  }
});

Instead, store a reference to the listener in an instance data field of an object that will exist as long as the listener is needed:

SharedPreferences.OnSharedPreferenceChangeListener listener =
    new SharedPreferences.OnSharedPreferenceChangeListener() {
  public void onSharedPreferenceChanged(SharedPreferences prefs, String key) {
    // listener implementation
  }
};
prefs.registerOnSharedPreferenceChangeListener(listener);

Managing Network Usage

Beginning with Android 4.0, the system's Settings application allows users to see how much network data their applications are using while in the foreground and background. Users can then disable the use of background data for individual apps. In order to avoid users disabling your app's access to data from the background, you should use the data connection efficiently and allow users to refine your app's data usage through your application settings.

For example, you might allow the user to control how often your app syncs data, whether your app performs uploads/downloads only when on Wi-Fi, whether your app uses data while roaming, etc. With these controls available to them, users are much less likely to disable your app's access to data when they approach the limits they set in the system Settings, because they can instead precisely control how much data your app uses.

Once you've added the necessary preferences in your PreferenceActivity to control your app's data habits, you should add an intent filter for ACTION_MANAGE_NETWORK_USAGE in your manifest file. For example:

<activity android:name="SettingsActivity" ... >
    <intent-filter>
       <action android:name="android.intent.action.MANAGE_NETWORK_USAGE" />
       <category android:name="android.intent.category.DEFAULT" />
    </intent-filter>
</activity>

This intent filter indicates to the system that this is the activity that controls your application's data usage. Thus, when the user inspects how much data your app is using from the system's Settings app, a View application settings button is available that launches your PreferenceActivity so the user can refine how much data your app uses.
Building a Custom Preference

The Android framework includes a variety of Preference subclasses that allow you to build a UI for several different types of settings. However, you might discover a setting you need for which there's no built-in solution, such as a number picker or date picker. In such a case, you'll need to create a custom preference by extending the Preference class or one of the other subclasses.

When you extend the Preference class, there are a few important things you need to do:

    Specify the user interface that appears when the user selects the settings.
    Save the setting's value when appropriate.
    Initialize the Preference with the current (or default) value when it comes into view.
    Provide the default value when requested by the system.
    If the Preference provides its own UI (such as a dialog), save and restore the state to handle lifecycle changes (such as when the user rotates the screen).

The following sections describe how to accomplish each of these tasks.
Specifying the user interface

If you directly extend the Preference class, you need to implement onClick() to define the action that occurs when the user selects the item. However, most custom settings extend DialogPreference to show a dialog, which simplifies the procedure. When you extend DialogPreference, you must call setDialogLayoutResourcs() during in the class constructor to specify the layout for the dialog.

For example, here's the constructor for a custom DialogPreference that declares the layout and specifies the text for the default positive and negative dialog buttons:

public class NumberPickerPreference extends DialogPreference {
    public NumberPickerPreference(Context context, AttributeSet attrs) {
        super(context, attrs);

        setDialogLayoutResource(R.layout.numberpicker_dialog);
        setPositiveButtonText(android.R.string.ok);
        setNegativeButtonText(android.R.string.cancel);

        setDialogIcon(null);
    }
    ...
}

Saving the setting's value

You can save a value for the setting at any time by calling one of the Preference class's persist*() methods, such as persistInt() if the setting's value is an integer or persistBoolean() to save a boolean.

Note: Each Preference can save only one data type, so you must use the persist*() method appropriate for the data type used by your custom Preference.

When you choose to persist the setting can depend on which Preference class you extend. If you extend DialogPreference, then you should persist the value only when the dialog closes due to a positive result (the user selects the "OK" button).

When a DialogPreference closes, the system calls the onDialogClosed() method. The method includes a boolean argument that specifies whether the user result is "positive"—if the value is true, then the user selected the positive button and you should save the new value. For example:

@Override
protected void onDialogClosed(boolean positiveResult) {
    // When the user selects "OK", persist the new value
    if (positiveResult) {
        persistInt(mNewValue);
    }
}

In this example, mNewValue is a class member that holds the setting's current value. Calling persistInt() saves the value to the SharedPreferences file (automatically using the key that's specified in the XML file for this Preference).
Initializing the current value

When the system adds your Preference to the screen, it calls onSetInitialValue() to notify you whether the setting has a persisted value. If there is no persisted value, this call provides you the default value.

The onSetInitialValue() method passes a boolean, restorePersistedValue, to indicate whether a value has already been persisted for the setting. If it is true, then you should retrieve the persisted value by calling one of the Preference class's getPersisted*() methods, such as getPersistedInt() for an integer value. You'll usually want to retrieve the persisted value so you can properly update the UI to reflect the previously saved value.

If restorePersistedValue is false, then you should use the default value that is passed in the second argument.

@Override
protected void onSetInitialValue(boolean restorePersistedValue, Object defaultValue) {
    if (restorePersistedValue) {
        // Restore existing state
        mCurrentValue = this.getPersistedInt(DEFAULT_VALUE);
    } else {
        // Set default state from the XML attribute
        mCurrentValue = (Integer) defaultValue;
        persistInt(mCurrentValue);
    }
}

Each getPersisted*() method takes an argument that specifies the default value to use in case there is actually no persisted value or the key does not exist. In the example above, a local constant is used to specify the default value in case getPersistedInt() can't return a persisted value.

Caution: You cannot use the defaultValue as the default value in the getPersisted*() method, because its value is always null when restorePersistedValue is true.
Providing a default value

If the instance of your Preference class specifies a default value (with the android:defaultValue attribute), then the system calls onGetDefaultValue() when it instantiates the object in order to retrieve the value. You must implement this method in order for the system to save the default value in the SharedPreferences. For example:

@Override
protected Object onGetDefaultValue(TypedArray a, int index) {
    return a.getInteger(index, DEFAULT_VALUE);
}

The method arguments provide everything you need: the array of attributes and the index position of the android:defaultValue, which you must retrieve. The reason you must implement this method to extract the default value from the attribute is because you must specify a local default value for the attribute in case the value is undefined.
Saving and restoring the Preference's state

Just like a View in a layout, your Preference subclass is responsible for saving and restoring its state in case the activity or fragment is restarted (such as when the user rotates the screen). To properly save and restore the state of your Preference class, you must implement the lifecycle callback methods onSaveInstanceState() and onRestoreInstanceState().

The state of your Preference is defined by an object that implements the Parcelable interface. The Android framework provides such an object for you as a starting point to define your state object: the Preference.BaseSavedState class.

To define how your Preference class saves its state, you should extend the Preference.BaseSavedState class. You need to override just a few methods and define the CREATOR object.

For most apps, you can copy the following implementation and simply change the lines that handle the value if your Preference subclass saves a data type other than an integer.

private static class SavedState extends BaseSavedState {
    // Member that holds the setting's value
    // Change this data type to match the type saved by your Preference
    int value;

    public SavedState(Parcelable superState) {
        super(superState);
    }

    public SavedState(Parcel source) {
        super(source);
        // Get the current preference's value
        value = source.readInt();  // Change this to read the appropriate data type
    }

    @Override
    public void writeToParcel(Parcel dest, int flags) {
        super.writeToParcel(dest, flags);
        // Write the preference's value
        dest.writeInt(value);  // Change this to write the appropriate data type
    }

    // Standard creator object using an instance of this class
    public static final Parcelable.Creator<SavedState> CREATOR =
            new Parcelable.Creator<SavedState>() {

        public SavedState createFromParcel(Parcel in) {
            return new SavedState(in);
        }

        public SavedState[] newArray(int size) {
            return new SavedState[size];
        }
    };
}

With the above implementation of Preference.BaseSavedState added to your app (usually as a subclass of your Preference subclass), you then need to implement the onSaveInstanceState() and onRestoreInstanceState() methods for your Preference subclass.

For example:

@Override
protected Parcelable onSaveInstanceState() {
    final Parcelable superState = super.onSaveInstanceState();
    // Check whether this Preference is persistent (continually saved)
    if (isPersistent()) {
        // No need to save instance state since it's persistent,
        // use superclass state
        return superState;
    }

    // Create instance of custom BaseSavedState
    final SavedState myState = new SavedState(superState);
    // Set the state's value with the class member that holds current
    // setting value
    myState.value = mNewValue;
    return myState;
}

@Override
protected void onRestoreInstanceState(Parcelable state) {
    // Check whether we saved the state in onSaveInstanceState
    if (state == null || !state.getClass().equals(SavedState.class)) {
        // Didn't save the state, so call superclass
        super.onRestoreInstanceState(state);
        return;
    }

    // Cast state to custom BaseSavedState and pass to superclass
    SavedState myState = (SavedState) state;
    super.onRestoreInstanceState(myState.getSuperState());

    // Set this Preference's widget to reflect the restored state
    mNumberPicker.setValue(myState.value);
}

Get news & tips
Blog Support

Except as noted, this content is licensed under Creative Commons Attribution 2.5. For details and restrictions, see the Content License.

About Android Auto TV Wear Legal
-------------------------------------------------------------------------------
RECYCLERVIEW

If you want to use a RecyclerView, you will need to feel comfortable with three elements:
– RecyclerView.Adapter
– LayoutManager
– ItemAnimator

Initial: 
1. add code below to gradle :
compile 'com.android.support:appcompat-v7:22.2.0'
    compile 'com.android.support:recyclerview-v7:22.2.+' 
	

Create: 

1. 1 model class to get/set data from DB/WEB.... for each component of ItemView 
	 "ItemViewData " + get()/set() function. 
 2. 1 class for collect data, then combine them to a array .
	"List <ItemViewData> data  = new Array<>();"
	
3. Create a Adapter, instance of RecyclerView.Adapter, to get data and convert to View:
public class NavigationDrawerAdapter extends RecyclerView.Adapter<NavigationDrawerAdapter.MyViewHolder> 

Create a class instance of RecycleView.ViewHolder to get componet ID each component of ItemView
		RecyclerView.ViewHolder : 
		class MyViewHolder extends RecycleView.ViewHolder{
		TextView textView;
		ImageView imageView; 		
		public MyViewHolder(View view) {
		textView = (TextView) view.findViewById(R.id.textView);
		imageView = (ImageView) view.findViewById(R.id.imageView);
		}
		
		}
		
	
	+ call onCreateViewHolder function to create a ItemView: 
	@Override 
	public RecyclerViewHolder onCreateViewHolder(ViewGroup viewGroup,
            int position) {
        LayoutInflater inflater = LayoutInflater.from(viewGroup.getContext());
        View itemView = inflater.inflate(R.layout.item_view, viewGroup, false);
        return new RecyclerViewHolder(itemView);
    }

 
  Create a @Override function onBindViewHolder to binding the Data of step -> each component of holder.
	 public void onBindViewHolder(MyViewHolder holder, int position) {
        ItemViewData itemViewData = data.get(position);
        holder.textView.setText(itemViewData.getTitle());
    }
	
	
4. On MainActivity.class 
- set Adapter for ListView:
ListView listView = (ListView) findViewById(R.layout.list_view);
# set Adapter for listView 
listView.setAdapter(adapter);


###Using notifyDataSetChanged() function to update the view when have changed on data list: 
adapter.notifyDataSetChanged()
-> when have a change on arrList, must be update adapter :
arrList.add(txtten.getText()+"");
adapter.notifyDataSetChanged()


	

	
	
	
---------------------------------------------------------------------------------------------------
TOOLBAR: 
1. Create a main_activity.xml
2. Create a Toolbar. Action bar.xml 

** Using Action bar for  + menu
						 + DrawerLayout


3. Add Toolbar to main_activity.xml using <include>
4. Create a menu bar by create menu.xml file under res/menu/    <menu> 
																		<item></item>
																		<item></item>
																		<item></item>
																</menu>
5. MainActivity.java : 
 5.1. Using   setSupportActionBar(mToolbar);
        getSupportActionBar().setDisplayShowHomeEnabled(true); 
		to enabled supporting for Action bar. 
	
	
	
	
----------------------------------------------------------------------------------------------------
NAVIGATION DRAWER


1. Create a root layout as main layout
2. Create a Navigation Drawer layout 
3. Initial the layout in mainactivity.class

 

getActivity (): Return the Activity this fragment is currently associated with. 	



SOAP - REST - JSON -XML 

--------------------------------------------------------------------------------------------------


Fragment lifecycle: 


 onAttach(Activity) -> onCreate (Bundle savedInstanceState) ->  onCreateView(LayoutInflater, ViewGroup, Bundle)

------- 

getactivity().findviewbyid() 
getactivity(): using for fragment - to call activity that it associated. 
... 
Can not using findviewbyid() in class extended from activity, must declare content for findviewbyid(). 



-----------------------------------------------------------------------------------------------
http://stackoverflow.com/questions/10829371/sync-data-between-android-app-and-webserver

Sync data between android app and server : 
1. Persistent Storege:  http://thinkandroid.wordpress.com/2010/01/13/writing-your-own-contentprovider/
2. Data Interchange Format: XML or JSON
3. Synchronization Service: http://www.c99.org/2010/01/23/writing-an-android-sync-provider-part-1/ : SyncAdapter
Purposes : - Get new data from server and update android's contents base on web content.
		   - Notify for server, when have changing in the local @@ 
		   
bear in mind that, by default, the content provider data is accessible by another app, 
U must uwng  android:exported="false" in the <provider> to private app 





ContentProvider: 
    Decide if you need a content provider.

    You need to build a content provider if you want to provide one or more of the following features:

        You want to offer complex data or files to other applications.
        You want to allow users to copy complex data from your app into other apps.
        You want to provide custom search suggestions using the search framework.
        You don't need a provider to use an SQLite database if the use is entirely within your own application.



 

 
 
----------------------------------------------------------------------------------------
android security : 

 + SMS phishing: 
 + 
 +









